{"name":"windows","postlist":[{"title":"cmd执行命令卡住了","slug":"systemstructure/windows/batblock","date":"2020-10-18T15:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/windows/batblock.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635172010R-C.1295498867d0a14529a15c280d612bf9?rik=tk4p6tmyea33JQ&riu=http%3a%2f%2fzfnb-leiting.oss-cn-beijing.aliyuncs.com%2fmvcroyyj52fcso-2.jpg&ehk=7NXbedYaErtmiwW183CSf2pvdxRWGQhRdnb2jTa1e5o%3d&risl=&pid=ImgRaw&r=0","content":"<p><strong>windows cmd-&gt;属性-&gt;选项-&gt;编辑选项</strong></p>\n<p><strong>取消 快速编辑模式</strong></p>\n<p>cmd默认开启了“快速编辑模式”，只要当鼠标点击cmd任何区域时，就自动进入了编辑模式，之后的程序向控制台输入内容甚至后台的程序都会被阻塞。</p>\n<p>我们在控制台里面回车或者右键鼠标后，自动退出了编辑模式。因此，控制又恢复输出内容，服务端又正常了。</p>\n<p>选择快速编辑模式的时候,鼠标不小心点到cmd某个位置,都可能让正在运行的进程都卡住，直到按下回车后，会跳出一堆。</p>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"windows","path":"api/tags/windows.json"}]},{"title":"windows实现延时的几种方式","slug":"systemstructure/windows/batdelay","date":"2020-10-27T13:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/windows/batdelay.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635172159delay.c.png","content":"<p>方法一：ping</p>\n<p>缺点:时间精度为1秒,不够精确</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo <span class=\"keyword\">off</span></span><br><span class=\"line\">@ping <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span> -n <span class=\"number\">6</span> &gt;nul</span><br><span class=\"line\">start gdh.txt</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<p>方法二：vbs start /wait</p>\n<p>缺点：生成临时文件</p>\n<p>有点：时间精度为0.001秒，精度高</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo <span class=\"keyword\">off</span></span><br><span class=\"line\">echo wscript.sleep <span class=\"number\">5000</span>&gt;sleep.vbs</span><br><span class=\"line\">start /wait sleep.vbs</span><br><span class=\"line\">start gdh.txt</span><br><span class=\"line\">del /f /s /q sleep.vbs</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<p>方法三：vbs cscript</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo <span class=\"keyword\">off</span></span><br><span class=\"line\">echo wscript.sleep <span class=\"number\">5000</span>&gt;sleep.vbs</span><br><span class=\"line\">@cscript sleep.vbs &gt;nul</span><br><span class=\"line\">start gdh.txt</span><br><span class=\"line\">del /f /s /q sleep.vbs</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<p>方法四：choice</p>\n<p>ssh过去有问题，停不下来</p>\n<p>优点：时间精确，CPU占用低，是最佳选择</p>\n<p>CHOICE：[/C[:]按键表] [/N] [/S] [/T[:]选择值,秒数] [显示文本]<br>其中，/C表示可选则的按键，/N表示不要显示提示信息，/S表示大小写字符敏感方式，/T表示若在批定的时间内没有选择的话，自动执行/C中定义的某个选择值。显示文本是CHOICE命令执行时的提示信息。选择结果将用ERRORLEVEL值来表示</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo <span class=\"keyword\">off</span></span><br><span class=\"line\">choice /t <span class=\"number\">5</span> /d y /n &gt;nul</span><br><span class=\"line\">start gdh.txt</span><br></pre></td></tr></table></figure>\n\n<p>方法五：for+set+if，时间精度为0.01秒</p>\n<p>缺点：CPU占用高，语句过长，不常用</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@echo <span class=\"keyword\">off</span></span><br><span class=\"line\">setlocal enableextensions</span><br><span class=\"line\">echo %time%</span><br><span class=\"line\"><span class=\"keyword\">call</span> :ProcDelay <span class=\"number\">500</span></span><br><span class=\"line\">echo %time%</span><br><span class=\"line\">start gdh.txt</span><br><span class=\"line\">:ProcDelay delayMSec_</span><br><span class=\"line\">setlocal enableextensions</span><br><span class=\"line\"><span class=\"keyword\">for</span> /f <span class=\"string\">&quot;tokens=1-4 delims=:. &quot;</span> %%h <span class=\"keyword\">in</span> (<span class=\"string\">&quot;%time%&quot;</span>) <span class=\"keyword\">do</span> <span class=\"keyword\">set</span> start_=%%h%%i%%j%%k</span><br><span class=\"line\">:_procwaitloop</span><br><span class=\"line\"><span class=\"keyword\">for</span> /f <span class=\"string\">&quot;tokens=1-4 delims=:. &quot;</span> %%h <span class=\"keyword\">in</span> (<span class=\"string\">&quot;%time%&quot;</span>) <span class=\"keyword\">do</span> <span class=\"keyword\">set</span> now_=%%h%%i%%j%%k</span><br><span class=\"line\"><span class=\"keyword\">set</span> /a diff_=%now_%-%start_%</span><br><span class=\"line\"><span class=\"keyword\">if</span> %diff_% LSS %<span class=\"number\">1</span> <span class=\"keyword\">goto</span> _procwaitloop</span><br><span class=\"line\">endlocal &amp; <span class=\"keyword\">goto</span> :EOF</span><br></pre></td></tr></table></figure>","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"windows","path":"api/tags/windows.json"}]},{"title":"什么是hyperv","slug":"systemstructure/windows/hyperv","date":"2020-11-13T15:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/windows/hyperv.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211026/1635179986966575_original.jpg","content":"<p>Hyper-V是<a href=\"https://baike.baidu.com/item/%E5%BE%AE%E8%BD%AF\">微软</a>的一款虚拟化产品，是微软第一个采用类似Vmware ESXi和Citrix Xen的基于hypervisor的技术。这也意味着<a href=\"https://baike.baidu.com/item/%E5%BE%AE%E8%BD%AF/124767\">微软</a>会更加直接地与市场先行者VMware展开竞争，但竞争的方式会有所不同。Hyper-V是<a href=\"https://baike.baidu.com/item/%E5%BE%AE%E8%BD%AF/124767\">微软</a>提出的一种<a href=\"https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/10844875\">系统管理</a>程序<a href=\"https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/276750\">虚拟化技术</a>，能够实现桌面虚拟化 </p>\n<h2 id=\"系统要求\"><a href=\"#系统要求\" class=\"headerlink\" title=\"系统要求\"></a>系统要求</h2><p>1.<a href=\"https://baike.baidu.com/item/Intel/125450\">Intel</a>或者<a href=\"https://baike.baidu.com/item/AMD/5905\">AMD</a>64位处理器 [1] （从Windows10预览版更新19559开始ARM64位处理器也受支持 [2] ）</p>\n<p>2.Windows Server 2008 R2及以上(服务器操作<a href=\"https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F\">系统</a>)；Windows 7及以上(桌面操作系统)。</p>\n<p>3.硬件辅助虚拟化。这是在现有的<a href=\"https://baike.baidu.com/item/%E5%A4%84%E7%90%86%E5%99%A8\">处理器</a>，包括一个虚拟化的</p>\n<p>选择工具体来说，[Intel vt](<a href=\"https://baike.baidu.com/item/Intel\">https://baike.baidu.com/item/Intel</a> vt/2091588)或AMD-v（ AMD-v，以前的代号为“ Pacifica ”的 ) 。</p>\n<p>4.<a href=\"https://baike.baidu.com/item/CPU/120556\">CPU</a>必须具备硬件的<a href=\"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E6%89%A7%E8%A1%8C%E4%BF%9D%E6%8A%A4\">数据执行保护</a>（ DEP ）功能，而且该功能必须启动。</p>\n<p>5.内存最低限度为2GB。</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635172176resize,m_lfit,w_220,h_220,limit_1\" alt=\"微软虚拟化构架\">微软虚拟化构架</p>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"windows","path":"api/tags/windows.json"}]}]}