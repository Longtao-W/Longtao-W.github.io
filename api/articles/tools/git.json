{"title":"git的使用","slug":"tools/git","date":"2019-10-21T12:12:11.000Z","updated":"2024-06-30T10:35:56.312Z","comments":true,"path":"api/articles/tools/git.json","excerpt":null,"covers":["https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211117/1637113648cc3510e8f32578ed0f39756e298749de.png"],"content":"<p>[toc]</p>\n<h2 id=\"git-attributes文件\"><a href=\"#git-attributes文件\" class=\"headerlink\" title=\"git attributes文件\"></a>git attributes文件</h2><p>gitattributes是一个文本文件</p>\n<p>格式如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">匹配的文件如(*.py) 属性1(如text)  属性2(如eol&#x3D;lf)</span><br></pre></td></tr></table></figure>\n\n<p>属性有4种状态，以text为例</p>\n<figure class=\"highlight txt\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*           text=auto #设置值</span><br><span class=\"line\">*.sh\t\ttext #设置text</span><br><span class=\"line\">*.jpg\t\t-text 不设置</span><br><span class=\"line\">*.py\t\t未声明</span><br></pre></td></tr></table></figure>\n\n<p>常见属性说明</p>\n<p>txt：行尾规范化，值为auto时，进入git库行尾自动转为LF，若git库中已经CRLF则不转换</p>\n<p>eol: 值为CRLF时进入工作目录为CRLF，值为LF时进入工作目录为LF</p>\n<h2 id=\"git-操作\"><a href=\"#git-操作\" class=\"headerlink\" title=\"git 操作\"></a>git 操作</h2><h3 id=\"克隆指定分支\"><a href=\"#克隆指定分支\" class=\"headerlink\" title=\"克隆指定分支\"></a>克隆指定分支</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone -b feature-vnuma ssh:&#x2F;&#x2F;git@dev.zstack.io:9022&#x2F;mingmin.wen&#x2F;zstack.git</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"查看分支\"><a href=\"#查看分支\" class=\"headerlink\" title=\"查看分支\"></a>查看分支</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch    <span class=\"comment\">#查看本地分支</span></span><br><span class=\"line\">git branch -a <span class=\"comment\">#查看所有分支，包括本地和远程</span></span><br><span class=\"line\">git branch -r <span class=\"comment\">#查看远程分支</span></span><br><span class=\"line\">git branch -vv <span class=\"comment\">#查看上有</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"同步远程分支\"><a href=\"#同步远程分支\" class=\"headerlink\" title=\"同步远程分支\"></a>同步远程分支</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch <span class=\"comment\">#本地分支与远程分支保持同步</span></span><br><span class=\"line\">git checkout -b 本地分支 origin/远程分支 <span class=\"comment\">#拉去远程分支并创建对应的本地分支</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"git-reset-区别\"><a href=\"#git-reset-区别\" class=\"headerlink\" title=\"git reset 区别\"></a>git reset 区别</h3><h3 id=\"stage-index-区域\"><a href=\"#stage-index-区域\" class=\"headerlink\" title=\"stage(index) 区域\"></a>stage(index) 区域</h3><p>暂存区<code>Stage</code>只是一个简单的索引文件而已， <code>.git/index</code>文件</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211117/1637113648cc3510e8f32578ed0f39756e298749de.png\" alt=\"git 数据流程图示意图\"></p>\n<h3 id=\"合并不同分支\"><a href=\"#合并不同分支\" class=\"headerlink\" title=\"合并不同分支\"></a>合并不同分支</h3><ol>\n<li>切换到要最终合并到的目标分支targetB <code>git checkout targetB</code></li>\n<li>将要合进的分支sourceB合并到目标分支 <code>git merge sourceB </code> 即可将sourceB合并到targetB</li>\n<li>如果有冲突请看下一节</li>\n</ol>\n<h3 id=\"处理合并冲突\"><a href=\"#处理合并冲突\" class=\"headerlink\" title=\"处理合并冲突\"></a>处理合并冲突</h3><ol>\n<li>一般ide都会提示你进入冲突处理，逐行处理冲突（使用目标分支的还是你自己分支的）</li>\n<li>使用<code>git mergetool</code> 进入处理冲突,但是需要自己配置git mergertool</li>\n</ol>\n<h3 id=\"配置mergetool\"><a href=\"#配置mergetool\" class=\"headerlink\" title=\"配置mergetool\"></a>配置mergetool</h3><ol>\n<li><p>检查当前系统插件<code>git mergetool --tool-help</code> 看一下支持列表</p>\n</li>\n<li><p>选一个工具下载下载，例如 beyound compare</p>\n</li>\n<li><p>配置<code>git config --global merge.tool bc4</code> <code>git config --global mergetool.bc4.path &quot;bcomp.exe的路径&quot;</code></p>\n</li>\n</ol>\n","more":"<p>[toc]</p>\n<h2 id=\"git-attributes文件\"><a href=\"#git-attributes文件\" class=\"headerlink\" title=\"git attributes文件\"></a>git attributes文件</h2><p>gitattributes是一个文本文件</p>\n<p>格式如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">匹配的文件如(*.py) 属性1(如text)  属性2(如eol&#x3D;lf)</span><br></pre></td></tr></table></figure>\n\n<p>属性有4种状态，以text为例</p>\n<figure class=\"highlight txt\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*           text=auto #设置值</span><br><span class=\"line\">*.sh\t\ttext #设置text</span><br><span class=\"line\">*.jpg\t\t-text 不设置</span><br><span class=\"line\">*.py\t\t未声明</span><br></pre></td></tr></table></figure>\n\n<p>常见属性说明</p>\n<p>txt：行尾规范化，值为auto时，进入git库行尾自动转为LF，若git库中已经CRLF则不转换</p>\n<p>eol: 值为CRLF时进入工作目录为CRLF，值为LF时进入工作目录为LF</p>\n<h2 id=\"git-操作\"><a href=\"#git-操作\" class=\"headerlink\" title=\"git 操作\"></a>git 操作</h2><h3 id=\"克隆指定分支\"><a href=\"#克隆指定分支\" class=\"headerlink\" title=\"克隆指定分支\"></a>克隆指定分支</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone -b feature-vnuma ssh:&#x2F;&#x2F;git@dev.zstack.io:9022&#x2F;mingmin.wen&#x2F;zstack.git</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"查看分支\"><a href=\"#查看分支\" class=\"headerlink\" title=\"查看分支\"></a>查看分支</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch    <span class=\"comment\">#查看本地分支</span></span><br><span class=\"line\">git branch -a <span class=\"comment\">#查看所有分支，包括本地和远程</span></span><br><span class=\"line\">git branch -r <span class=\"comment\">#查看远程分支</span></span><br><span class=\"line\">git branch -vv <span class=\"comment\">#查看上有</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"同步远程分支\"><a href=\"#同步远程分支\" class=\"headerlink\" title=\"同步远程分支\"></a>同步远程分支</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch <span class=\"comment\">#本地分支与远程分支保持同步</span></span><br><span class=\"line\">git checkout -b 本地分支 origin/远程分支 <span class=\"comment\">#拉去远程分支并创建对应的本地分支</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"git-reset-区别\"><a href=\"#git-reset-区别\" class=\"headerlink\" title=\"git reset 区别\"></a>git reset 区别</h3><h3 id=\"stage-index-区域\"><a href=\"#stage-index-区域\" class=\"headerlink\" title=\"stage(index) 区域\"></a>stage(index) 区域</h3><p>暂存区<code>Stage</code>只是一个简单的索引文件而已， <code>.git/index</code>文件</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211117/1637113648cc3510e8f32578ed0f39756e298749de.png\" alt=\"git 数据流程图示意图\"></p>\n<h3 id=\"合并不同分支\"><a href=\"#合并不同分支\" class=\"headerlink\" title=\"合并不同分支\"></a>合并不同分支</h3><ol>\n<li>切换到要最终合并到的目标分支targetB <code>git checkout targetB</code></li>\n<li>将要合进的分支sourceB合并到目标分支 <code>git merge sourceB </code> 即可将sourceB合并到targetB</li>\n<li>如果有冲突请看下一节</li>\n</ol>\n<h3 id=\"处理合并冲突\"><a href=\"#处理合并冲突\" class=\"headerlink\" title=\"处理合并冲突\"></a>处理合并冲突</h3><ol>\n<li>一般ide都会提示你进入冲突处理，逐行处理冲突（使用目标分支的还是你自己分支的）</li>\n<li>使用<code>git mergetool</code> 进入处理冲突,但是需要自己配置git mergertool</li>\n</ol>\n<h3 id=\"配置mergetool\"><a href=\"#配置mergetool\" class=\"headerlink\" title=\"配置mergetool\"></a>配置mergetool</h3><ol>\n<li><p>检查当前系统插件<code>git mergetool --tool-help</code> 看一下支持列表</p>\n</li>\n<li><p>选一个工具下载下载，例如 beyound compare</p>\n</li>\n<li><p>配置<code>git config --global merge.tool bc4</code> <code>git config --global mergetool.bc4.path &quot;bcomp.exe的路径&quot;</code></p>\n</li>\n</ol>\n","categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"应用","path":"api/tags/应用.json"}]}