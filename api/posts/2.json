{"total":78,"pageSize":10,"pageCount":8,"data":[{"title":"简洁明了的systemd的使用","slug":"systemstructure/linux/systemd","date":"2021-09-06T15:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/linux/systemd.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20210923/systemd.11o5sef98c4w.png","content":"<h2 id=\"简述\"><a href=\"#简述\" class=\"headerlink\" title=\"简述\"></a>简述</h2><h3 id=\"背景：\"><a href=\"#背景：\" class=\"headerlink\" title=\"背景：\"></a>背景：</h3><p>在systemd之前使用initd 管理服务（把启动脚本放在在<code>/etc/init.d/</code>下），但是有两个主要缺点：</p>\n<ol>\n<li>线性(串行)启动导致启动时间过长</li>\n<li>initd只负责在系统启动时启动启动脚本，若要处理脚本状态需要自己实现，导致脚本复杂</li>\n</ol>\n<h3 id=\"systemd设计目标\"><a href=\"#systemd设计目标\" class=\"headerlink\" title=\"systemd设计目标\"></a>systemd设计目标</h3><ol>\n<li>为服务启动和管理提供全套解决方案</li>\n<li>可完全取代init.d ，性能更强，功能更多</li>\n</ol>\n<h2 id=\"功能\"><a href=\"#功能\" class=\"headerlink\" title=\"功能\"></a>功能</h2><h3 id=\"系统管理\"><a href=\"#系统管理\" class=\"headerlink\" title=\"系统管理\"></a>系统管理</h3><h4 id=\"综合-systemctl\"><a href=\"#综合-systemctl\" class=\"headerlink\" title=\"综合(systemctl))\"></a>综合(systemctl))</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">常用命令</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 重启</span></span><br><span class=\"line\">systemctl reboot</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 关闭电源</span></span><br><span class=\"line\">systemctl poweroff</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> CPU暂停</span></span><br><span class=\"line\">systemctl halt</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 挂起</span></span><br><span class=\"line\">systemctl suspend</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"用户-loginctl\"><a href=\"#用户-loginctl\" class=\"headerlink\" title=\"用户(loginctl)\"></a>用户(loginctl)</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">list-sessions            List sessions</span><br><span class=\"line\">session-status [ID...]   Show session status</span><br><span class=\"line\">show-session [ID...]     Show properties of sessions or the manager</span><br><span class=\"line\">activate [ID]            Activate a session</span><br><span class=\"line\">lock-session [ID...]     Screen lock one or more sessions</span><br><span class=\"line\">unlock-session [ID...]   Screen unlock one or more sessions</span><br><span class=\"line\">lock-sessions            Screen lock all current sessions</span><br><span class=\"line\">unlock-sessions          Screen unlock all current sessions</span><br><span class=\"line\">terminate-session ID...  Terminate one or more sessions</span><br><span class=\"line\">kill-session ID...       Send signal to processes of a session</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"时间-timedatectl\"><a href=\"#时间-timedatectl\" class=\"headerlink\" title=\"时间(timedatectl)\"></a>时间(timedatectl)</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">status                   Show current time settings</span><br><span class=\"line\">show                     Show properties of systemd-timedated</span><br><span class=\"line\">set-time TIME            Set system time</span><br><span class=\"line\">set-timezone ZONE        Set system time zone</span><br><span class=\"line\">list-timezones           Show known time zones</span><br><span class=\"line\">set-local-rtc BOOL       Control whether RTC is in local time</span><br><span class=\"line\">set-ntp BOOL             Enable or disable network time synchronization</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"本地化设置-localectl\"><a href=\"#本地化设置-localectl\" class=\"headerlink\" title=\"本地化设置(localectl)\"></a>本地化设置(localectl)</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">status                   Show current locale settings</span><br><span class=\"line\">set-locale LOCALE...     Set system locale</span><br><span class=\"line\">list-locales             Show known locales</span><br><span class=\"line\">set-keymap MAP [MAP]     Set console and X11 keyboard mappings</span><br><span class=\"line\">list-keymaps             Show known virtual console keyboard mappings</span><br><span class=\"line\">set-x11-keymap LAYOUT [MODEL [VARIANT [OPTIONS]]]</span><br><span class=\"line\">                         Set X11 and console keyboard mappings</span><br><span class=\"line\">list-x11-keymap-models   Show known X11 keyboard mapping models</span><br><span class=\"line\">list-x11-keymap-layouts  Show known X11 keyboard mapping layouts</span><br><span class=\"line\">list-x11-keymap-variants [LAYOUT]</span><br><span class=\"line\">                         Show known X11 keyboard mapping variants</span><br><span class=\"line\">list-x11-keymap-options  Show known X11 keyboard mapping options</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"启动信息-systemd-analyze\"><a href=\"#启动信息-systemd-analyze\" class=\"headerlink\" title=\"启动信息(systemd-analyze)\"></a>启动信息(systemd-analyze)</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">time                    Print time spent in the kernel</span><br><span class=\"line\">blame                   Print list of running units ordered by time to init</span><br><span class=\"line\">critical-chain          Print a tree of the time critical chain of units</span><br><span class=\"line\">plot                    Output SVG graphic showing service initialization</span><br><span class=\"line\">dot                     Output dependency graph in dot(1) format</span><br><span class=\"line\">set-log-level LEVEL     Set logging threshold for systemd</span><br><span class=\"line\">dump                    Output state serialization of service manager</span><br><span class=\"line\">verify FILE...          Check unit files for correctness</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"主机信息-hostnamectl\"><a href=\"#主机信息-hostnamectl\" class=\"headerlink\" title=\"主机信息(hostnamectl)\"></a>主机信息(hostnamectl)</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">status                 Show current hostname settings</span><br><span class=\"line\">set-hostname NAME      Set system hostname</span><br><span class=\"line\">set-icon-name NAME     Set icon name for host</span><br><span class=\"line\">set-chassis NAME       Set chassis type for host</span><br><span class=\"line\">set-deployment NAME    Set deployment environment for host</span><br><span class=\"line\">set-location NAME      Set location for host</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"资源管理\"><a href=\"#资源管理\" class=\"headerlink\" title=\"资源管理\"></a>资源管理</h3><h4 id=\"支持的资源\"><a href=\"#支持的资源\" class=\"headerlink\" title=\"支持的资源\"></a>支持的资源</h4><p>文件后缀就是资源名，例如service的后缀为.service</p>\n<table>\n<thead>\n<tr>\n<th>资源</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>service</td>\n<td>定义系统服务</td>\n</tr>\n<tr>\n<td>socket</td>\n<td>标识进程间通信使用的socket文件</td>\n</tr>\n<tr>\n<td>target</td>\n<td>模拟实现“运行级别”，多个 Unit 构成的一个组</td>\n</tr>\n<tr>\n<td>device</td>\n<td>定义内核识别的设备</td>\n</tr>\n<tr>\n<td>snapshot</td>\n<td>管理systemd快照</td>\n</tr>\n<tr>\n<td>scope</td>\n<td>非systemd启动的进程</td>\n</tr>\n<tr>\n<td>timer</td>\n<td>管理计划任务</td>\n</tr>\n<tr>\n<td>slice</td>\n<td>进程组</td>\n</tr>\n<tr>\n<td>path</td>\n<td>文件</td>\n</tr>\n<tr>\n<td>swap</td>\n<td>交换设备</td>\n</tr>\n<tr>\n<td>mount</td>\n<td>文件系统挂载点</td>\n</tr>\n<tr>\n<td>automount</td>\n<td>自动挂载点</td>\n</tr>\n</tbody></table>\n<h4 id=\"命令\"><a href=\"#命令\" class=\"headerlink\" title=\"命令\"></a>命令</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">基础命令</span></span><br><span class=\"line\">systemctl status # 状态</span><br><span class=\"line\">systemctl start # 开启</span><br><span class=\"line\">syttemctl stop # 关闭</span><br><span class=\"line\">systemctl restart # 重启</span><br><span class=\"line\">systemctl reload # 重载</span><br><span class=\"line\">systemctl kill # 杀死</span><br><span class=\"line\">systemctl enable # 开机启动</span><br><span class=\"line\">systemctl disable # 开机不启动</span><br><span class=\"line\">systemctl mask # 屏蔽</span><br><span class=\"line\">systemctl unmask # 不屏蔽</span><br><span class=\"line\">systemctl show # 查看配置</span><br><span class=\"line\">systemctl cat # 查看配置文件内容</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 查询命令</span></span><br><span class=\"line\">systemctl  is-active </span><br><span class=\"line\">systemctl is-failed</span><br><span class=\"line\">systemctl is-enabled</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 列出依赖</span></span><br><span class=\"line\">systemctl list-dependencies</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">查询列表</span></span><br><span class=\"line\">list-sockets</span><br><span class=\"line\">list-unit-files    </span><br><span class=\"line\">list-jobs </span><br><span class=\"line\">list-timers </span><br><span class=\"line\">list-units </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"启动状态\"><a href=\"#启动状态\" class=\"headerlink\" title=\"启动状态\"></a>启动状态</h4><p>static：不可以自己启动，可以被被其它的 enabled 的服务来唤醒。<br>mask：屏蔽掉了，除非unmask否则无论如何无法启动<br>enable：开机启动<br>disable：开机不启动</p>\n<h4 id=\"日志管理\"><a href=\"#日志管理\" class=\"headerlink\" title=\"日志管理\"></a>日志管理</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-F --field=FIELD         List all values that a specified field takes</span><br><span class=\"line\">   --new-id128           Generate a new 128-bit ID</span><br><span class=\"line\">   --disk-usage          Show total disk usage of all journal files</span><br><span class=\"line\">   --vacuum-size=BYTES   Reduce disk usage below specified size</span><br><span class=\"line\">   --vacuum-time=TIME    Remove journal files older than specified date</span><br><span class=\"line\">   --flush               Flush all journal data from /run into /var</span><br><span class=\"line\">   --header              Show journal header information</span><br><span class=\"line\">   --list-catalog        Show all message IDs in the catalog</span><br><span class=\"line\">   --dump-catalog        Show entries in the message catalog</span><br><span class=\"line\">   --update-catalog      Update the message catalog database</span><br><span class=\"line\">   --setup-keys          Generate a new FSS key pair</span><br><span class=\"line\">   --verify              Verify journal file consistency</span><br><span class=\"line\">\t</span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"怎么写一个Unit\"><a href=\"#怎么写一个Unit\" class=\"headerlink\" title=\"怎么写一个Unit\"></a>怎么写一个Unit</h4><p>最好的说明往往都是官网说明<a href=\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html\">https://www.freedesktop.org/software/systemd/man/systemd.unit.html</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">属性=值</span><br><span class=\"line\">[Service]</span><br><span class=\"line\">属性=值</span><br><span class=\"line\">[Install]</span><br><span class=\"line\">属性=值</span><br></pre></td></tr></table></figure>\n\n<p>一般有 Unit(unit元数据)、Install(定义启动)、Service(配置)三个模块，很多情况下Install模块可省略</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description：简短描述</span><br><span class=\"line\">Documentation：文档地址</span><br><span class=\"line\">Requires：当前 Unit 依赖的其他 Unit，如果它们没有运行，当前 Unit 会启动失败</span><br><span class=\"line\">Wants：与当前 Unit 配合的其他 Unit，如果它们没有运行，当前 Unit 不会启动失败</span><br><span class=\"line\">BindsTo：与Requires类似，它指定的 Unit 如果退出，会导致当前 Unit 停止运行</span><br><span class=\"line\">Before：如果该字段指定的 Unit 也要启动，那么必须在当前 Unit 之后启动</span><br><span class=\"line\">After：如果该字段指定的 Unit 也要启动，那么必须在当前 Unit 之前启动</span><br><span class=\"line\">Conflicts：这里指定的 Unit 不能与当前 Unit 同时运行</span><br><span class=\"line\">Condition...：当前 Unit 运行必须满足的条件，否则不会运行</span><br><span class=\"line\">Assert...：当前 Unit 运行必须满足的条件，否则会报启动失败</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type：定义启动时的进程行为。它有以下几种值。</span><br><span class=\"line\">Type=simple：默认值，执行ExecStart指定的命令，启动主进程</span><br><span class=\"line\">Type=forking：以 fork 方式从父进程创建子进程，创建后父进程会立即退出</span><br><span class=\"line\">Type=oneshot：一次性进程，Systemd 会等当前服务退出，再继续往下执行</span><br><span class=\"line\">Type=dbus：当前服务通过D-Bus启动</span><br><span class=\"line\">Type=notify：当前服务启动完毕，会通知Systemd，再继续往下执行</span><br><span class=\"line\">Type=idle：若有其他任务执行完毕，当前服务才会运行</span><br><span class=\"line\">Workingdirectory: 工作目录</span><br><span class=\"line\">ExecStart：启动当前服务的命令</span><br><span class=\"line\">ExecStartPre：启动当前服务之前执行的命令</span><br><span class=\"line\">ExecStartPost：启动当前服务之后执行的命令</span><br><span class=\"line\">ExecReload：重启当前服务时执行的命令</span><br><span class=\"line\">ExecStop：停止当前服务时执行的命令</span><br><span class=\"line\">ExecStopPost：停止当其服务之后执行的命令</span><br><span class=\"line\">RestartSec：自动重启当前服务间隔的秒数</span><br><span class=\"line\">Restart：定义何种情况 Systemd 会自动重启当前服务，可能的值包括always（总是重启）、on-success、on-failure、on-abnormal、on-abort、on-watchdog</span><br><span class=\"line\">TimeoutSec：定义 Systemd 停止当前服务之前等待的秒数</span><br><span class=\"line\">Environment：指定环境变量</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy：它的值是一个或多个 Target，当前 Unit 激活时（enable）符号链接会放入/etc/systemd/system目录下面以 Target 名 + .wants后缀构成的子目录中</span><br><span class=\"line\">RequiredBy：它的值是一个或多个 Target，当前 Unit 激活时，符号链接会放入/etc/systemd/system目录下面以 Target 名 + .required后缀构成的子目录中</span><br><span class=\"line\">Alias：当前 Unit 可用于启动的别名</span><br><span class=\"line\">Also：当前 Unit 激活（enable）时，会被同时激活的其他 Unit</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"一个简单的例子\"><a href=\"#一个简单的例子\" class=\"headerlink\" title=\"一个简单的例子\"></a>一个简单的例子</h4><ol>\n<li><p>首先我们用c实现一个简单的http helloworld </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/types.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/socket.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;netinet/in.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;arpa/inet.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> PORT 2333</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> BUFFER_SIZE 2048</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> RESPONSE_HEADER <span class=\"meta-string\">&quot;HTTP/1.1 200 OK\\r\\nConnection: close\\r\\nAccept-Ranges: bytes\\r\\nContent-Type: text/html\\r\\n\\r\\n&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> RESPONSE_BODY <span class=\"meta-string\">&quot;Hello longtaoTechLife!&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">handle</span><span class=\"params\">(<span class=\"keyword\">int</span> conn)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> buffer[BUFFER_SIZE];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> len;</span><br><span class=\"line\">    bzero(buffer, BUFFER_SIZE);</span><br><span class=\"line\">    len = recv(conn, buffer, BUFFER_SIZE, <span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (len &lt;= <span class=\"number\">0</span> ) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span> (<span class=\"string\">&quot;recv len not right&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;&#125;</span><br><span class=\"line\">    send(conn, RESPONSE_HEADER RESPONSE_BODY, <span class=\"keyword\">sizeof</span>(RESPONSE_HEADER RESPONSE_BODY), <span class=\"number\">0</span>);</span><br><span class=\"line\">    close(conn);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">int</span> argc,<span class=\"keyword\">char</span> *argv[])</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> port = PORT;</span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">sockaddr_in</span> <span class=\"title\">clientSockAddr</span>;</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">sockaddr_in</span> <span class=\"title\">serverSockAddr</span>;</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> listener = socket(AF_INET,SOCK_STREAM,<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> conn;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> optval = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">socklen_t</span> len = <span class=\"keyword\">sizeof</span>(struct sockaddr_in);</span><br><span class=\"line\">    setsockopt(listener, SOL_SOCKET, SO_REUSEADDR, &amp;optval, <span class=\"keyword\">sizeof</span>(<span class=\"keyword\">int</span>));</span><br><span class=\"line\">    serverSockAddr.sin_family = AF_INET;</span><br><span class=\"line\">    serverSockAddr.sin_port = htons(port);</span><br><span class=\"line\">    serverSockAddr.sin_addr.s_addr = htonl(INADDR_ANY);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(bind(listener,(struct sockaddr *)&amp;serverSockAddr,<span class=\"keyword\">sizeof</span>(serverSockAddr))==<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;bind error!&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(listen(listener, <span class=\"number\">10</span>) &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;listen failed!&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span>(<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">    conn = accept(listener, (struct sockaddr*)&amp;clientSockAddr, &amp;len);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(conn &lt; <span class=\"number\">0</span> || handle(conn) &lt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        close(conn);</span><br><span class=\"line\">        <span class=\"keyword\">continue</span>;&#125;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>我们试一下正常运行,打印了我们期望的</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@172-20-59-110 ~]# ./hello.server&amp;</span><br><span class=\"line\">[1] 1460</span><br><span class=\"line\">[root@172-20-59-110 ~]# curl -X GET localhost:2333</span><br><span class=\"line\">Hello longtaoTechLife![root@172-20-59-110 ~]# </span><br></pre></td></tr></table></figure></li>\n<li><p>接下来我们写一个简单的systemd service 写入/etc/systemd/system/hello.service</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=this is longtao&#x27;s hello test</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=simple</span><br><span class=\"line\">ExecStart=/root/hello.server #注意一定要写成绝对地址</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target # 缺少此项无法使用systemctl enable/disable 功能</span><br></pre></td></tr></table></figure></li>\n<li><p>我们用systemctl status hello看一下状态</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@172-20-59-110 ~]# systemctl status hello</span><br><span class=\"line\">● hello.service - this is longtao&#x27;s hello test</span><br><span class=\"line\">   Loaded: loaded (/etc/systemd/system/hello.service; static; vendor preset: disabled) #配置文件路径，是否enable等</span><br><span class=\"line\">   Active: inactive (dead) since 四 2021-07-15 18:14:23 CST; 18s ago # 运行状态，我们能看到未运行</span><br><span class=\"line\">  Process: 708 ExecStart=/root/hello.server </span><br><span class=\"line\"> Main PID: 708 (code=killed, signal=TERM) # 显示进程ID</span><br></pre></td></tr></table></figure></li>\n<li><p>我们启动服务systemctl status hello并打开开机启动 systemctl status hello，再看一下状态</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">● hello.service - this is longtao&#x27;s hello test</span><br><span class=\"line\">   Loaded: loaded (/etc/systemd/system/hello.service; enabled; vendor preset: disabled) # 我们看到状态enbale开机启动设置成功了</span><br><span class=\"line\">   Active: active (running) since 四 2021-07-15 18:18:25 CST; 26s ago #运行状态为正在运行</span><br><span class=\"line\"> Main PID: 1328 (hello.server)</span><br><span class=\"line\">   CGroup: /system.slice/hello.service   #CGroup下显示所有孜进程，CGroup常用于隔离资源，容器中常用，我们以后再说</span><br><span class=\"line\">           └─1328 /root/hello.server </span><br></pre></td></tr></table></figure></li>\n<li><p>这样我们就实现了一个简单的service，可以快乐的使用systemctl restart\\stop\\等管理我们的服务了。</p>\n</li>\n</ol>\n<h2 id=\"优点-好的特性\"><a href=\"#优点-好的特性\" class=\"headerlink\" title=\"优点(好的特性)\"></a>优点(好的特性)</h2><ol>\n<li>功能强大，使用便捷</li>\n<li>启动速度快</li>\n</ol>\n<h2 id=\"特点-中性特性\"><a href=\"#特点-中性特性\" class=\"headerlink\" title=\"特点(中性特性)\"></a>特点(中性特性)</h2><ol>\n<li>systemd 取代了initd，成为了系统第一个进程(PID为1)</li>\n</ol>\n<h2 id=\"缺点-不好的特性\"><a href=\"#缺点-不好的特性\" class=\"headerlink\" title=\"缺点(不好的特性)\"></a>缺点(不好的特性)</h2><ol>\n<li>体系庞大，使用起来非常复杂</li>\n<li>与操作系统的其他模块耦合性过强，不符合Unix的KISS原则，下面是systemd架构图，可以看出需要很多模块支持<br><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211027/1635309214webp\" alt=\"img\"></li>\n</ol>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"linux","path":"api/tags/linux.json"},{"name":"操作系统","path":"api/tags/操作系统.json"}]},{"title":"CPU简介","slug":"systemstructure/base/cpu","date":"2021-08-20T10:24:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/base/cpu.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211221/16400752521640075186v2-ce7b6f2b4dfbceef66fa8a97866cf3b1_1440w.jpg","content":"<h2 id=\"基本概念\"><a href=\"#基本概念\" class=\"headerlink\" title=\"基本概念\"></a>基本概念</h2><p>CPU:( <code>CentralProcessingUnit</code>): 中央处理单元，CPU不等于物理核，更不等于逻辑核,一个逻辑核包含多个物理核，一个物理核可以分成n个逻辑核</p>\n<p>物理核(<code>physical core</code>): 可以看的到的，真实的cpu核，有独立的电路元件以及L1,L2缓存，可以独立地执行指令。</p>\n<p>逻辑核( <code>logical core，LCPU</code>): 在同一个物理核内，逻辑层面的核。1LCPU=1THREAD</p>\n<p>超线程( <code>Hyper-threading， HT</code>)：时间管理大师，超线程可以在一个逻辑核等待指令执行的间隔把时间片分配到另一个逻辑核。同一物理核超出的逻辑核之间为兄弟线程；</p>\n<p>虚拟核：使用虚拟化技术，超分出的核心，位于虚拟机中；</p>\n<p>CPU Die(裸晶): 生产中引入概念，从晶圆上切下来的裸晶，通过片外总线互联，可以封装在一个Package中,die之间通过HT(HyperTransport)总线通信</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211222/1640103678R-C.4ac803e989bb4f90f212532d90337994?rik=easxlVWcYVTbiQ&riu=http://www.quantgrav.com/wordpress/wp-content/uploads/2020/02/10-1582802010-1.jpeg&ehk=sywkHVPXnt5dsrGybbhzM075BW1qO6GPaaplhltTfTw=&risl=&pid=ImgRaw&r=0&sres=1&sresct=1\" alt=\"See the source image\"></p>\n<p>CPU Package(封装)：对应一个cpu socket的一个CPU；</p>\n<p>双路服务器:主板上有两个cpu插槽(socket),多个处理器通过 QPI 链路相连;</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211222/16401033685c295e257dc738d5.jpg\" alt=\"超微（SUPERMICRO）X11DPH-T双路服务器主板【图片价格品牌报价】-京东\"></p>\n<p>对称多处理机(Symmetric multiprocessing,SMP)：每个处理器的地位都是平等的，对资源的使用权限相同。拥有超过一个以上的处理器，这些处理器都连接到同一个共享的主存上，并由单一操作系统来控制。在多核心处理器的例子中，对称多处理架构，将每一个核心都当成是独立的处理器。</p>\n<p>下图为双路服务器的两个CPU，每个CPU 封装了4个die</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211221/16400752521640075186v2-ce7b6f2b4dfbceef66fa8a97866cf3b1_1440w.jpg\" alt=\"img\"></p>\n<h2 id=\"cpu缓存\"><a href=\"#cpu缓存\" class=\"headerlink\" title=\"cpu缓存\"></a>cpu缓存</h2><p><strong>CPU高速缓存</strong>(cpu cache)目的是减少处理器访问内存的延时，在存储体系中仅次于cpu寄存器，速度快，接近处理器频率；</p>\n<p>缓存是SRAM(<strong>S</strong>tatic <strong>R</strong>andom <strong>A</strong>ccess <strong>M</strong>emory),使用CMOS(<strong>C</strong>omplementary <strong>M</strong>etal-<strong>O</strong>xide-<strong>S</strong>emiconductor)工艺；</p>\n<h3 id=\"基本原理\"><a href=\"#基本原理\" class=\"headerlink\" title=\"基本原理\"></a>基本原理</h3><ol>\n<li>处理器访问内存时先检查cache中是否存在，命中则返回，未命中，存入cache再返回；</li>\n<li>处理器写入内存时命中直接改写，未命中按照策略，写入或不写入cache；</li>\n</ol>\n<h3 id=\"缓存级别-常见\"><a href=\"#缓存级别-常见\" class=\"headerlink\" title=\"缓存级别(常见)\"></a>缓存级别(常见)</h3><p>缓存一般有三层，L1距离cpu最近，运行速率最高，容量最小;一般L1、L2为每个物理核独占</p>\n<p>曾经有过L4 Cache 是个eDRAM,(Haswell/Broadwell:在Iris系列中)</p>\n<h4 id=\"缓存的设计\"><a href=\"#缓存的设计\" class=\"headerlink\" title=\"缓存的设计\"></a>缓存的设计</h4><ul>\n<li>exclusive：L1 cahce中的内容不能包含在L2中</li>\n<li>strictly inclusive：L1cache的内容一定严格包含在L2中。</li>\n<li>Third one（没有正式名字）:不要求L1的一定包含在L2中</li>\n</ul>\n<h2 id=\"背景事件\"><a href=\"#背景事件\" class=\"headerlink\" title=\"背景事件\"></a>背景事件</h2><h3 id=\"晶体管的诞生\"><a href=\"#晶体管的诞生\" class=\"headerlink\" title=\"晶体管的诞生\"></a>晶体管的诞生</h3><p>1947年贝尔实验室的肖克莱、布拉顿、巴丁共同发明晶体管(包括二极管、三极管、晶闸管、场效应管等)，晶体管相比电子管功耗低、效率高。</p>\n<h3 id=\"八叛逆与仙童半导体\"><a href=\"#八叛逆与仙童半导体\" class=\"headerlink\" title=\"八叛逆与仙童半导体\"></a>八叛逆与仙童半导体</h3><p>1955年，肖克利回到老家硅谷创建“肖克利半导体实验室”，两年招募8位年轻的科学家；后八人退出并找到Fairchild摄影器材公司的投资成立Fairchild仙童半导体。</p>\n<h3 id=\"Intel的成立\"><a href=\"#Intel的成立\" class=\"headerlink\" title=\"Intel的成立\"></a>Intel的成立</h3><p>因仙童半导体与母公司矛盾，1968年7月，诺依斯和摩尔、格鲁夫脱离仙童成立Intel</p>\n<h3 id=\"AMD的成立\"><a href=\"#AMD的成立\" class=\"headerlink\" title=\"AMD的成立\"></a>AMD的成立</h3><p>1969年5月，桑德斯带着7位仙童员工创办AMD</p>\n<h3 id=\"Intel-4004\"><a href=\"#Intel-4004\" class=\"headerlink\" title=\"Intel 4004\"></a>Intel 4004</h3><p>1971年11月，英特尔公司推出了世界上第一款CPU Inter 4004，这是第一个可用于微型计算机的四位微处理器。此时MOS LSI(大规模集成)技术的可用性，刚刚开始在计算器业务从机电到电子的根本变化，4004的出现宣布了电子一体化的新时代，开始为PC机的出现铺路。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">740kHz</td>\n<td align=\"left\">4bit 单核</td>\n<td align=\"left\">2300</td>\n<td align=\"left\">10微米</td>\n</tr>\n</tbody></table>\n<p>但当时的Inter作为一个小厂难以达到IBM 1620在1960的算力水平。</p>\n<p>Inter在1972年生产了Inter 8008，打算用作终端控制器，与Inter 4040类似，是第一个8bit处理器</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">200-800KHz</td>\n<td align=\"left\">8bit单核</td>\n<td align=\"left\">3500</td>\n<td align=\"left\">10微米</td>\n</tr>\n</tbody></table>\n<h3 id=\"TMS-1000\"><a href=\"#TMS-1000\" class=\"headerlink\" title=\"TMS 1000\"></a>TMS 1000</h3><p>德州仪器（TI）生产，这是第一个包含足够RAM和足够用于程序ROM的空间以及在单个芯片上具有I / O支持的微处理器。从而使其无需多个芯片即可运行外部支持芯片，使其成为第一个微控制器。它还具有一项创新功能，可以向CPU添加<strong>自定义指令</strong>。</p>\n<p>不足：内存不是连续的，内存都是内部的。所有硬连线都是单周期的，不允许中断。</p>\n<h3 id=\"Intel-8080\"><a href=\"#Intel-8080\" class=\"headerlink\" title=\"Intel 8080\"></a>Intel 8080</h3><p>974年4月，8008的后续产品8080发布，是第一个成功的PC机Altair的处理器。</p>\n<p>14位的PC和寻址功能，16位地址总线和8位数据总线，七个8位寄存器。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">2MHz</td>\n<td align=\"left\">8bit单核</td>\n<td align=\"left\">4500</td>\n<td align=\"left\">6微米</td>\n</tr>\n</tbody></table>\n<p>有IO端口，可以连接256个IO设备。因此可以连接I / O设备而不会占用或干扰寻址空间，还有一个信号引脚，该信号引脚可使堆栈占用单独的内存</p>\n<h3 id=\"x86架构出现-Intel-8086\"><a href=\"#x86架构出现-Intel-8086\" class=\"headerlink\" title=\"x86架构出现 Intel 8086\"></a>x86架构出现 Intel 8086</h3><p>1978年6月Intel 8086发布，x86架构诞生</p>\n<p>总线接口单元通过一个6字节的预取队列将指令流馈送到执行单元，因此，获取和执行是并发的-流水线的一种原始形式。</p>\n<p>数据寄存器通常被指令隐式使用，使临时值的寄存器分配变得复杂。它具有64K 8位I / O（或32K 16位）端口和固定向量中断。还可以通过索引寄存器设置四个段寄存器</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">5MHz</td>\n<td align=\"left\">16bit单核</td>\n<td align=\"left\">29000</td>\n<td align=\"left\">3微米</td>\n</tr>\n</tbody></table>\n<p>不足：与大多数分段处理器一样，8086不仅提供缺失的字节，还将分段寄存器（X 16或左移4位）添加到地址中。由于不增加地址位的情况下扩展地址空间而进行尝试的奇怪结果，有可能使两个具有相同值的指针指向两个不同的存储位置，或者使两个具有不同值的指针指向同一位置，并且受到限制典型的数据结构小于64K。但在高级语言中却引起了持续的混乱（例如近/远指针）。更糟糕的是，这使得将地址空间扩展到1 MB以上变得困难。</p>\n<h3 id=\"Intel-80286（1982）\"><a href=\"#Intel-80286（1982）\" class=\"headerlink\" title=\"Intel 80286（1982）\"></a>Intel 80286（1982）</h3><p>80286芯片，该芯片比8006和8088都有了飞跃的发展，时钟频率由最初的6MHz逐渐提高到20MHz。其内部和外部数据总线皆为16位，地址总线24位，可寻址16MB内存。采用PGA的正方形包装</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">6MHz</td>\n<td align=\"left\">16bit 单核</td>\n<td align=\"left\">134000</td>\n<td align=\"left\">1.5微米</td>\n</tr>\n</tbody></table>\n<p>从80286开始，CPU的工作方式也演变成两种：实模式和保护模式。</p>\n<p>实模式：微处理器可以访问内存限制在1MB</p>\n<p>保护模式：保护操作系统，遇到异常使用时系统不会停机</p>\n<p>不足：仅通过添加新模式将设计扩展到32位。进行切换返回时需要使用原始80286中被保留了下来的bug进行切换。所有内存访问都仍然限于64K段。</p>\n<h3 id=\"Intel-80386（1985）\"><a href=\"#Intel-80386（1985）\" class=\"headerlink\" title=\"Intel 80386（1985）\"></a>Intel 80386（1985）</h3><p>具有几种处理器模式（包括单独的分页和分段模式），添加了MMU，安全模式</p>\n<p>英特尔为80386设计了高速缓存（Cache），采取预读内存的方法来缓解这个速度瓶颈，从此以后，Cache就和CPU成为了如影随形的东西。</p>\n<p>英特尔借此机会修复了以前设计中剩余的一些最受欢迎的功能。转向x86-64，AMD决定进一步改进设计，增加了更简洁的64位模式</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">16MHz</td>\n<td align=\"left\">32bit 单核</td>\n<td align=\"left\">275000</td>\n<td align=\"left\">1.5微米</td>\n</tr>\n</tbody></table>\n<p>不足： 64位功能被设计为32位附加组件，并且在低端版本中被禁用。启用后，扩展的32位流水线将比主流水线晚1/2个时钟周期。</p>\n<h3 id=\"Intel-80486（1989）\"><a href=\"#Intel-80486（1989）\" class=\"headerlink\" title=\"Intel 80486（1989）\"></a>Intel 80486（1989）</h3><p>将80386和数学协微处理器80387以及一个8KB的高速缓存集成在一个芯片内。</p>\n<p>添加了完整的流水线，单片8K缓存，片上FPU和时钟加倍版本（例如Z-280）。</p>\n<p>内部缓存缩短了微处理器与慢速DRAM的等待时间。</p>\n<p>在80×86系列中首次采用了RISC（精简指令集）技术，可以在一个时钟周期内执行一条指令。它还采用了突发总线方式，大大提高了与内存的数据交换速度。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">25MHz</td>\n<td align=\"left\">32bit 单核</td>\n<td align=\"left\">1.2M</td>\n<td align=\"left\">1微米</td>\n</tr>\n</tbody></table>\n<p>不足：CPU的频率越来越快，而PC机外部设备受工艺限制，能够承受的工作频率有限，这就阻碍了CPU主频的进一步提高。</p>\n<p>在486的基础上，发展出了Intel 80486 DX/SX/DX2/DX4/SL CPU；Inter486 OverDrive，TI 486Dx，Cyrix 486DLC，Cyrix5x86，AMD 5×86</p>\n<h3 id=\"微-micro-架构的出现\"><a href=\"#微-micro-架构的出现\" class=\"headerlink\" title=\"微(micro)架构的出现\"></a>微(micro)架构的出现</h3><p>intel推出奔腾系列，P5微架构;</p>\n<p>amd推出K5微架构竞争，性能较差;</p>\n<h3 id=\"Intel-Pentium（1993）\"><a href=\"#Intel-Pentium（1993）\" class=\"headerlink\" title=\"Intel Pentium（1993）\"></a>Intel Pentium（1993）</h3><p>它也是第一个超标量Intel x86处理器（Intel公司把这种同时执行两条指令的能力称为超标量技术）。它具有双Integer流水线和单个浮点单元，允许它每个时钟发出并完成多个指令。</p>\n<p>从PENTIUM开始，我们大家有了超频这样一个用尝试少的钱换取尝试多的性能的好方法</p>\n<p>从Pentium开始，CPU封装开始出现扇热盖的设计，CPU的发热问题已经突显。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">60, 66MHz</td>\n<td align=\"left\">32bit 单核</td>\n<td align=\"left\">3.1M</td>\n<td align=\"left\">0.8微米</td>\n</tr>\n</tbody></table>\n<p>不足：i586程序(这个程序还有一些其他的名字，比如Linux用户就把它称为f00f程序)是一种越界攻击手段，处理器芯片会因为无法执行这个程序发来的非法指令而出现死机现象。</p>\n<p>这个程序似乎并没有利用奔腾CPU里浮点运算的弱点，它直接向CPU送去错误的指令。这种死机现象除了手动重置计算机外没有其他好的解决办法</p>\n<h3 id=\"Intel-Pentium-Pro（1995）\"><a href=\"#Intel-Pentium-Pro（1995）\" class=\"headerlink\" title=\"Intel Pentium Pro（1995）\"></a>Intel Pentium Pro（1995）</h3><p>为工作站和服务器设计，超算ASCI Red（第一台达到每秒万亿次浮点运算的计算机）。</p>\n<p>Pentium临的是在Pentium Pro的一个封装中除Pentium Pro芯片外还包括一个256KB的二级缓存芯片，两个芯片之间用高频宽的奔腾Pro200MHZ CPU的L2 CACHE即正在运行在200MHZ上，内部通讯总线互连，处理器与高速缓存的连接线路也被安置在该封装中，这样就使高速缓存能更容易地运行在更高的频率上。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">200MHz</td>\n<td align=\"left\">32bit 单核</td>\n<td align=\"left\">5.5M</td>\n<td align=\"left\">0.35微米</td>\n</tr>\n</tbody></table>\n<p>不足：但是肇因于0.35微米制程发热功率甚大，故其时脉不曾高于233 MHz（正式版不能超频）。此外，由于指令队列的问题，Pentium Pro的16bit指令执行能力低于Pentium，造成Windows3.X和Windows9X与DOS系统下Pentium Pro性能低下。</p>\n<h3 id=\"64位处理器的诞生\"><a href=\"#64位处理器的诞生\" class=\"headerlink\" title=\"64位处理器的诞生\"></a>64位处理器的诞生</h3><ul>\n<li>1961年：IBM发表IBM 7030 Stretch 超级电脑。它使用64位资料字组，以及32或64位的指令字组。</li>\n<li>1999年：Intel发布IA-64架构的指令集。AMD首次公开64位集以扩展给IA-32，称为x86-64（后来改名为AMD64）。</li>\n</ul>\n<h3 id=\"Intel-Xeon（2001）\"><a href=\"#Intel-Xeon（2001）\" class=\"headerlink\" title=\"Intel Xeon（2001）\"></a>Intel Xeon（2001）</h3><p>主要供非消费级服务站，服务器和嵌入式系统使用。</p>\n<p>基于英特尔的NetBurst架构，有更高级的网络功能，及更复杂更的3D图形性能，另一方面，支持至强的芯片组也在并行运算、支持高性能I/O子系统（如SCSI磁盘阵列、千兆网络接口）、支持PCI总线分段等方面更好地支持服务器端的运算。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1.7GHz</td>\n<td align=\"left\">32bit 单核</td>\n<td align=\"left\">42M</td>\n<td align=\"left\">180nm</td>\n</tr>\n</tbody></table>\n<h3 id=\"多核处理器的出现\"><a href=\"#多核处理器的出现\" class=\"headerlink\" title=\"多核处理器的出现\"></a>多核处理器的出现</h3><p>2000年IBM发布POWER4,双核心处理器；</p>\n<p>2005年4月，AMD发布皓龙(Opteron)双核处理器</p>\n<h3 id=\"Core-2（2009）\"><a href=\"#Core-2（2009）\" class=\"headerlink\" title=\"Core 2（2009）\"></a>Core 2（2009）</h3><p>第一款微架构处理器，取代由2000年起大多数英特尔处理器采用的NetBurst架构。</p>\n<p>提升缓冲存储器效率、核心数量等作出优化。这些新处理器的功耗比以往的Pentium 4/D处理器低很多。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">时钟频率</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">晶体管</th>\n<th align=\"left\">工艺</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1.06GHz~3.33GHz</td>\n<td align=\"left\">64bit，1,2,4核</td>\n<td align=\"left\">291M</td>\n<td align=\"left\">65nm</td>\n</tr>\n</tbody></table>\n<p>不足：Core 2处理器的主板售价较高，导致组装成本大幅增加所致</p>\n<h3 id=\"Alder-Lake-大小核\"><a href=\"#Alder-Lake-大小核\" class=\"headerlink\" title=\"Alder Lake 大小核\"></a>Alder Lake 大小核</h3><p>待补充。。。</p>\n","raw":null,"categories":[{"name":"基础架构","path":"api/categories/基础架构.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"编程基础","path":"api/tags/编程基础.json"}]},{"title":"极简的极客法则","slug":"self/hacklaw","date":"2021-08-09T15:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/self/hacklaw.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/16351385831600banner.1.jpg","content":"<p>[toc]</p>\n<h3 id=\"写在前面\"><a href=\"#写在前面\" class=\"headerlink\" title=\"写在前面\"></a>写在前面</h3><p>原文是<a href=\"https://github.com/dwmkerr/hacker-laws\">hacker-laws</a> ，作者做了翻译、归纳、整理、夹带私货；<br>阅读hacker laws 有助于coder 更好的开发； here we go!</p>\n<h2 id=\"定律\"><a href=\"#定律\" class=\"headerlink\" title=\"定律\"></a>定律</h2><h3 id=\"90-9-1-法则-90–9–1-Principle-or-1-Rule\"><a href=\"#90-9-1-法则-90–9–1-Principle-or-1-Rule\" class=\"headerlink\" title=\"90-9-1 法则 (90–9–1 Principle or 1% Rule)\"></a>90-9-1 法则 (90–9–1 Principle or 1% Rule)</h3><p>在诸如维基这样的互联网社区中，90% 的用户只看内容并不参与互动，9% 的用户会参与讨论，而只有 1% 的用户会创造内容。</p>\n<h3 id=\"阿姆达尔定律-Amdahl’s-Law\"><a href=\"#阿姆达尔定律-Amdahl’s-Law\" class=\"headerlink\" title=\"阿姆达尔定律 (Amdahl’s Law)\"></a>阿姆达尔定律 (Amdahl’s Law)</h3><p>并行计算中，有些部分可以被多核心并行处理，有些部分只能串行处理，增加核心对速度的提升的收益会边际递减</p>\n<h3 id=\"破窗效应-The-Broken-Windows-Theory\"><a href=\"#破窗效应-The-Broken-Windows-Theory\" class=\"headerlink\" title=\"破窗效应 (The Broken Windows Theory)\"></a>破窗效应 (The Broken Windows Theory)</h3><p>在破窗理论中认为，恶化若不修复，会导致进一步更严重的恶化参见：</p>\n<h3 id=\"布鲁克斯法则-Brooks’s-Law\"><a href=\"#布鲁克斯法则-Brooks’s-Law\" class=\"headerlink\" title=\"布鲁克斯法则 (Brooks’s Law)\"></a>布鲁克斯法则 (Brooks’s Law)</h3><p>软件开发后期，添加人力只会使项目开发得更慢。因为有些事情无法分割，切增加沟通成本（和阿姆达尔有点像）<br>《人月神话》大篇幅在讲这个</p>\n<h3 id=\"CAP-定理-CAP-Theorem-or-Brewer’s-Theorem\"><a href=\"#CAP-定理-CAP-Theorem-or-Brewer’s-Theorem\" class=\"headerlink\" title=\"CAP 定理 (CAP Theorem or Brewer’s Theorem)\"></a>CAP 定理 (CAP Theorem or Brewer’s Theorem)</h3><p>CAP 定理由 Eric Brewer 所定义，它指出对于分布式数据存储来说，不可能同时满足以下三点，可以有侧重，例如金融交易系统的强一致性，淘宝的可用性等：</p>\n<ul>\n<li>一致性 (Consistency)：每个终端都会接收到 最新的数据，或者返回错误。</li>\n<li>可用性 (Availability): 每个终端都会接收到一个 非错误的响应，但不能保证该数据是 最新的数据。</li>\n<li>分区容错性 (Partition Tolerance)：当节点之间任意数量的网络请求失败时，系统能按预期继续运行（脑裂后还可以保证使用）。</li>\n</ul>\n<h3 id=\"康威定律-Conway’s-Law\"><a href=\"#康威定律-Conway’s-Law\" class=\"headerlink\" title=\"康威定律 (Conway’s Law)\"></a>康威定律 (Conway’s Law)</h3><p>如果一个组织被分散成许多小而无联系的单元，那么它开发的软件也是小而分散的。组织架构会体现在软件架构上（分形）</p>\n<h3 id=\"坎宁汉姆定律-Cunningham’s-Law\"><a href=\"#坎宁汉姆定律-Cunningham’s-Law\" class=\"headerlink\" title=\"坎宁汉姆定律 (Cunningham’s Law)\"></a>坎宁汉姆定律 (Cunningham’s Law)</h3><p>在网络上想得到正确答案的最好方法不是提问题，而是发布一个错误的答案，引起辩论（不建议这么做，现在网上已经一堆的错误回答）</p>\n<h3 id=\"邓巴数字-Dunbar’s-Number\"><a href=\"#邓巴数字-Dunbar’s-Number\" class=\"headerlink\" title=\"邓巴数字 (Dunbar’s Number)\"></a>邓巴数字 (Dunbar’s Number)</h3><p>邓巴数字是对一个人能够保持稳定社会关系的人数的认知极限——在这种关系中，邓巴数字的估计值一般在 100 至 250 之间。所以有些以扁平化为珍宝的公司在扩张时管理会有问题，对我们个人的启发是，可以交一两个社交牛的朋友，可以交换新事物。</p>\n<h3 id=\"邓宁-克鲁格效应-The-Dunning-Kruger-Effect\"><a href=\"#邓宁-克鲁格效应-The-Dunning-Kruger-Effect\" class=\"headerlink\" title=\"邓宁-克鲁格效应 (The Dunning-Kruger Effect)\"></a>邓宁-克鲁格效应 (The Dunning-Kruger Effect)</h3><p>无能的人往往不会意识到自己的无能。而得出正确答案所需要的技能，正是你认识到何为正确答案所需要的技能。虚幻的优越性产自无知</p>\n<h3 id=\"费茨法则-Fitts’s-Law\"><a href=\"#费茨法则-Fitts’s-Law\" class=\"headerlink\" title=\"费茨法则 (Fitts’s Law)\"></a>费茨法则 (Fitts’s Law)</h3><p>该法则指出，移动到目标区域所需的时间是到目标的距离除以目标宽度的函数。<br>费茨法则决定了在设计 UX 或 UI 时，交互元素应该尽可能大，而用户注意力区域和交互元素之间的距离应该尽可能小。这会对设计产生影响，例如将相近的任务进行归类分组等。</p>\n<h3 id=\"盖尔定律-Gall’s-Law\"><a href=\"#盖尔定律-Gall’s-Law\" class=\"headerlink\" title=\"盖尔定律 (Gall’s Law)\"></a>盖尔定律 (Gall’s Law)</h3><p>完整的复杂系统不是设计成的，而是一步步的修补和更改变成现在的样子。</p>\n<h3 id=\"古德哈特定律-Goodhart’s-Law\"><a href=\"#古德哈特定律-Goodhart’s-Law\" class=\"headerlink\" title=\"古德哈特定律 (Goodhart’s Law)\"></a>古德哈特定律 (Goodhart’s Law)</h3><p>当一个措施本身成为目标时，它就不再是一个好的措施，像为了kpi而kpi，在方法中迷失目的</p>\n<h3 id=\"汉隆的剃刀-Hanlon’s-Razor\"><a href=\"#汉隆的剃刀-Hanlon’s-Razor\" class=\"headerlink\" title=\"汉隆的剃刀 (Hanlon’s Razor)\"></a>汉隆的剃刀 (Hanlon’s Razor)</h3><p>能解释为愚蠢的，就不要解释为恶意的</p>\n<h3 id=\"席克定律-Hick’s-Law-or-Hick-Hyman-Law\"><a href=\"#席克定律-Hick’s-Law-or-Hick-Hyman-Law\" class=\"headerlink\" title=\"席克定律 (Hick’s Law or Hick-Hyman Law)\"></a>席克定律 (Hick’s Law or Hick-Hyman Law)</h3><p>决策时间和可供选择的选项数量呈对数增长关系。</p>\n<h3 id=\"侯世达定律-Hofstadter’s-Law\"><a href=\"#侯世达定律-Hofstadter’s-Law\" class=\"headerlink\" title=\"侯世达定律 (Hofstadter’s Law)\"></a>侯世达定律 (Hofstadter’s Law)</h3><p>结果往往低于目标，即使考虑到了这个点。</p>\n<h3 id=\"哈特伯定律-Hutber’s-Law\"><a href=\"#哈特伯定律-Hutber’s-Law\" class=\"headerlink\" title=\"哈特伯定律 (Hutber’s Law)\"></a>哈特伯定律 (Hutber’s Law)</h3><p>对一个系统的改进会导致其他部分的恶化；或者它会将其他的恶化隐藏起来，并导致系统整体状态的退化。</p>\n<h3 id=\"技术成熟度曲线-The-Hype-Cycle-or-Amara’s-Law\"><a href=\"#技术成熟度曲线-The-Hype-Cycle-or-Amara’s-Law\" class=\"headerlink\" title=\"技术成熟度曲线 (The Hype Cycle or Amara’s Law)\"></a>技术成熟度曲线 (The Hype Cycle or Amara’s Law)</h3><p>人有动物性-短时。我们倾向于过高估计技术在短期内的影响，并低估长期效应。</p>\n<h3 id=\"隐式接口定律-Hyrum’s-Law-or-The-Law-of-Implicit-Interfaces\"><a href=\"#隐式接口定律-Hyrum’s-Law-or-The-Law-of-Implicit-Interfaces\" class=\"headerlink\" title=\"隐式接口定律 (Hyrum’s Law or The Law of Implicit Interfaces)\"></a>隐式接口定律 (Hyrum’s Law or The Law of Implicit Interfaces)</h3><p>当你的 API 有足够多的用户时，API 的所有行为最终都会被其他人所依赖，大家不会一直看文档，很多公司都在取消文档工程师，转而提升用户使用体验。</p>\n<h3 id=\"柯林汉定律-Kernighan’s-Law\"><a href=\"#柯林汉定律-Kernighan’s-Law\" class=\"headerlink\" title=\"柯林汉定律 (Kernighan’s Law)\"></a>柯林汉定律 (Kernighan’s Law)</h3><p>调试在一开始就比编写程序困难一倍。因此，按照定义，如果你的代码写得非常巧妙，那么你就没有足够的能力来调试它。</p>\n<h3 id=\"林纳斯定律-Linus’s-Law\"><a href=\"#林纳斯定律-Linus’s-Law\" class=\"headerlink\" title=\"林纳斯定律 (Linus’s Law)\"></a>林纳斯定律 (Linus’s Law)</h3><p>简单地说，能够看到问题的人越多，有人解决过相关的问题或事情的可能性就越高。</p>\n<h3 id=\"梅特卡夫定律-Metcalfe’s-Law\"><a href=\"#梅特卡夫定律-Metcalfe’s-Law\" class=\"headerlink\" title=\"梅特卡夫定律 (Metcalfe’s Law)\"></a>梅特卡夫定律 (Metcalfe’s Law)</h3><p>在网络理论中，系统的价值约等于系统用户数的平方，人的作用很大。</p>\n<h3 id=\"摩尔定律-Moore’s-Law\"><a href=\"#摩尔定律-Moore’s-Law\" class=\"headerlink\" title=\"摩尔定律 (Moore’s Law)\"></a>摩尔定律 (Moore’s Law)</h3><p>集成电路中的晶体管数量大约每两年翻一番。价格不变，芯片性能两年一番。</p>\n<h3 id=\"墨菲定律-Murphy’s-Law-Sod’s-Law\"><a href=\"#墨菲定律-Murphy’s-Law-Sod’s-Law\" class=\"headerlink\" title=\"墨菲定律 (Murphy’s Law / Sod’s Law)\"></a>墨菲定律 (Murphy’s Law / Sod’s Law)</h3><p>凡是可能出错的事就一定会出错。</p>\n<h3 id=\"奥卡姆剃刀-Occam’s-Razor\"><a href=\"#奥卡姆剃刀-Occam’s-Razor\" class=\"headerlink\" title=\"奥卡姆剃刀 (Occam’s Razor)\"></a>奥卡姆剃刀 (Occam’s Razor)</h3><p>如无必要，勿增实体。</p>\n<h3 id=\"帕金森定理-Parkinson’s-Law\"><a href=\"#帕金森定理-Parkinson’s-Law\" class=\"headerlink\" title=\"帕金森定理 (Parkinson’s Law)\"></a>帕金森定理 (Parkinson’s Law)</h3><p>在工作能够完成的时限内，工作量会一直增加，直到所有可用时间都被填满为止，所以别卷了，工作是做不完的。</p>\n<h3 id=\"过早优化效应-Premature-Optimization-Effect\"><a href=\"#过早优化效应-Premature-Optimization-Effect\" class=\"headerlink\" title=\"过早优化效应 (Premature Optimization Effect)\"></a>过早优化效应 (Premature Optimization Effect)</h3><p>过早优化是万恶之源。</p>\n<h3 id=\"普特定律-Putt’s-Law\"><a href=\"#普特定律-Putt’s-Law\" class=\"headerlink\" title=\"普特定律 (Putt’s Law)\"></a>普特定律 (Putt’s Law)</h3><p>技术由两类人主导，一类是纯粹的管理人员， 一类是纯粹的技术人员。</p>\n<h3 id=\"里德定律-Reed’s-Law\"><a href=\"#里德定律-Reed’s-Law\" class=\"headerlink\" title=\"里德定律 (Reed’s Law)\"></a>里德定律 (Reed’s Law)</h3><p>大型网络，尤其是社交网络的效用会随着网络的大小呈指数级扩增，规模效应</p>\n<h3 id=\"复杂性守恒定律-The-Law-of-Conservation-of-Complexity-or-Tesler’s-Law\"><a href=\"#复杂性守恒定律-The-Law-of-Conservation-of-Complexity-or-Tesler’s-Law\" class=\"headerlink\" title=\"复杂性守恒定律 (The Law of Conservation of Complexity or Tesler’s Law)\"></a>复杂性守恒定律 (The Law of Conservation of Complexity or Tesler’s Law)</h3><p>系统中存在着一定程度的复杂性，并且不能减少。</p>\n<h3 id=\"得墨忒耳定律-The-Law-of-Demeter\"><a href=\"#得墨忒耳定律-The-Law-of-Demeter\" class=\"headerlink\" title=\"得墨忒耳定律 (The Law of Demeter)\"></a>得墨忒耳定律 (The Law of Demeter)</h3><p>得墨忒耳定律又称最少知识原则，是一条与面向对象语言有关的软件设计原则，只和已知的打交道。</p>\n<h3 id=\"抽象泄漏定律-The-Law-of-Leaky-Abstractions\"><a href=\"#抽象泄漏定律-The-Law-of-Leaky-Abstractions\" class=\"headerlink\" title=\"抽象泄漏定律 (The Law of Leaky Abstractions)\"></a>抽象泄漏定律 (The Law of Leaky Abstractions)</h3><p>在某种程度上，所有非平凡的抽象都是有泄漏的。<br>过度依赖抽象，加上对底层过程的理解不足，实际上使得问题在某些情况下更加复杂。</p>\n<h3 id=\"帕金森琐碎定理-The-Law-of-Triviality\"><a href=\"#帕金森琐碎定理-The-Law-of-Triviality\" class=\"headerlink\" title=\"帕金森琐碎定理 (The Law of Triviality)\"></a>帕金森琐碎定理 (The Law of Triviality)</h3><p>群体将给予更多的时间和注意力来处理琐碎的问题，而不是用来处理严肃而实质性的问题。</p>\n<h3 id=\"Unix-哲学-The-Unix-Philosophy\"><a href=\"#Unix-哲学-The-Unix-Philosophy\" class=\"headerlink\" title=\"Unix 哲学 (The Unix Philosophy)\"></a>Unix 哲学 (The Unix Philosophy)</h3><p>软件组件应该很小，并专注于做一件特定的事情。将小而简单以及定义良好的单元组合在一起，而不是使用大而复杂的多用途程序，可以更轻松地构建系统。</p>\n<h3 id=\"Spotify-模型-The-Spotify-Model\"><a href=\"#Spotify-模型-The-Spotify-Model\" class=\"headerlink\" title=\"Spotify 模型 (The Spotify Model)\"></a>Spotify 模型 (The Spotify Model)</h3><p>团队围绕功能而非技术进行组织。</p>\n<h3 id=\"沃德勒定律-Wadler’s-Law\"><a href=\"#沃德勒定律-Wadler’s-Law\" class=\"headerlink\" title=\"沃德勒定律 (Wadler’s Law)\"></a>沃德勒定律 (Wadler’s Law)</h3><p>任何语言设计中，讨论下面列表中某个要素所花费的总时间与其位置成正比。</p>\n<ol>\n<li>语义 (Semantics)</li>\n<li>语法 (Syntax)</li>\n<li>词法 (Lexical syntax)</li>\n<li>注释语法 (Lexical syntax of comments)<br>简而言之，在语义上花费一个小时，就要在注释语法上花费八个小时</li>\n</ol>\n<h3 id=\"惠顿定律-Wheaton’s-Law\"><a href=\"#惠顿定律-Wheaton’s-Law\" class=\"headerlink\" title=\"惠顿定律 (Wheaton’s Law)\"></a>惠顿定律 (Wheaton’s Law)</h3><p>不要像个傻子一样。</p>\n<h2 id=\"原则\"><a href=\"#原则\" class=\"headerlink\" title=\"原则\"></a>原则</h2><p>原则通常是与设计相关的准则。</p>\n<h3 id=\"乔治·伯克斯定律-All-Models-Are-Wrong-or-George-Box’s-Law\"><a href=\"#乔治·伯克斯定律-All-Models-Are-Wrong-or-George-Box’s-Law\" class=\"headerlink\" title=\"乔治·伯克斯定律 (All Models Are Wrong or George Box’s Law)\"></a>乔治·伯克斯定律 (All Models Are Wrong or George Box’s Law)</h3><p>这一原则表明，所有的系统模型都是有缺陷的，但只要它们没有太多缺陷，那便有可能是有用的。这一原则源于统计学，同时也适用于科学和计算模型。</p>\n<h3 id=\"切斯特森围栏-Chesterson’s-Fence\"><a href=\"#切斯特森围栏-Chesterson’s-Fence\" class=\"headerlink\" title=\"切斯特森围栏 (Chesterson’s Fence)\"></a>切斯特森围栏 (Chesterson’s Fence)</h3><p>在了解现有情况背后的原因之前，不应该进行改进。</p>\n<h3 id=\"死海效应-The-Dead-Sea-Effect\"><a href=\"#死海效应-The-Dead-Sea-Effect\" class=\"headerlink\" title=\"死海效应 (The Dead Sea Effect)\"></a>死海效应 (The Dead Sea Effect)</h3><p>死海效应表明，在任何一个组织中，工程师的技能、才华和效能往往与他们在公司的时间呈反比。</p>\n<h3 id=\"呆伯特法则-The-Dilbert-Principle\"><a href=\"#呆伯特法则-The-Dilbert-Principle\" class=\"headerlink\" title=\"呆伯特法则 (The Dilbert Principle)\"></a>呆伯特法则 (The Dilbert Principle)</h3><p>公司会倾向于系统地将工作能力差的员工提升到管理层，以使他们脱离工作流程（在国内目前没有）。</p>\n<h3 id=\"帕累托法则-The-Pareto-Principle-or-The-80-20-Rule\"><a href=\"#帕累托法则-The-Pareto-Principle-or-The-80-20-Rule\" class=\"headerlink\" title=\"帕累托法则 (The Pareto Principle or The 80/20 Rule)\"></a>帕累托法则 (The Pareto Principle or The 80/20 Rule)</h3><p>生活中大多数事情不是均匀分布的。<br>这个原则也被称为<strong>二八法则</strong>，<strong>重要的少数法则</strong>和<strong>因素稀疏原则</strong>。</p>\n<h3 id=\"舍基原理-The-Shirky-Principle\"><a href=\"#舍基原理-The-Shirky-Principle\" class=\"headerlink\" title=\"舍基原理 (The Shirky Principle)\"></a>舍基原理 (The Shirky Principle)</h3><p>各机构会努力保留他们能够解决的问题。<br>当一个人不理解自己的工作就能够获得酬劳时，那么他就很难再去了解这份工作了！</p>\n<h3 id=\"彼得原理-The-Peter-Principle\"><a href=\"#彼得原理-The-Peter-Principle\" class=\"headerlink\" title=\"彼得原理 (The Peter Principle)\"></a>彼得原理 (The Peter Principle)</h3><p>在等级制度中，人往往会被提升到他们的“无法胜任的水平。</p>\n<h3 id=\"鲁棒性原则-The-Robustness-Principle-or-Postel’s-Law\"><a href=\"#鲁棒性原则-The-Robustness-Principle-or-Postel’s-Law\" class=\"headerlink\" title=\"鲁棒性原则 (The Robustness Principle or Postel’s Law)\"></a>鲁棒性原则 (The Robustness Principle or Postel’s Law)</h3><p>在自己所做的事情上要保守, 在接受别人的事情上要自由。</p>\n<h3 id=\"SOLID\"><a href=\"#SOLID\" class=\"headerlink\" title=\"SOLID\"></a>SOLID</h3><ul>\n<li>S：单一功能原则：有且有一个单一的功能，并且该功能应该由这个类完全封装起来</li>\n<li>O：开闭原则：对于扩展是开放的，但是对于修改是封闭的</li>\n<li>L：里氏替换原则：子类可以扩展父类的功能，但不能改变父类原有的功能</li>\n<li>I：接口隔离原则：建立单一接口，不要建立庞大臃肿的接口</li>\n<li>D：依赖反转原则 ：不要太多耦合<br>这些是 <a href=\"https://github.com/nusr/hacker-laws-zh#todo\">Object-Oriented Programming</a> 的关键原则。诸如此类的设计原则能够帮助开发人员构建更易于维护的系统。</li>\n</ul>\n<h3 id=\"不要重复你自己原则-The-DRY-Principle\"><a href=\"#不要重复你自己原则-The-DRY-Principle\" class=\"headerlink\" title=\"不要重复你自己原则 (The DRY Principle)\"></a>不要重复你自己原则 (The DRY Principle)</h3><p>系统中，每一块知识都必须是单一、明确而权威的。</p>\n<h3 id=\"KISS-原则-The-KISS-Principle\"><a href=\"#KISS-原则-The-KISS-Principle\" class=\"headerlink\" title=\"KISS 原则 (The KISS Principle)\"></a>KISS 原则 (The KISS Principle)</h3><p>保持简单和直白。</p>\n<h3 id=\"你不需要它原则-YAGNI\"><a href=\"#你不需要它原则-YAGNI\" class=\"headerlink\" title=\"你不需要它原则 (YAGNI)\"></a>你不需要它原则 (YAGNI)</h3><p>只有当你需要某些东西的时候，才去实现它们，而不是在你预见的时候。如无必要，勿增实体</p>\n<h3 id=\"分布式计算的谬论-The-Fallacies-of-Distributed-Computing\"><a href=\"#分布式计算的谬论-The-Fallacies-of-Distributed-Computing\" class=\"headerlink\" title=\"分布式计算的谬论 (The Fallacies of Distributed Computing)\"></a>分布式计算的谬论 (The Fallacies of Distributed Computing)</h3><p>不要做以下假设</p>\n<ul>\n<li>网络可靠</li>\n<li>延迟为零</li>\n<li>带宽无限</li>\n<li>网络安全</li>\n<li>拓扑恒定</li>\n<li>单一管理员</li>\n<li>运输成本为零</li>\n<li>网络为同构的</li>\n</ul>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程思想","path":"api/tags/编程思想.json"},{"name":"编程哲学","path":"api/tags/编程哲学.json"}]},{"title":"从Typhoon台风到控制反转-依赖注入","slug":"language/common/dependencyinjection","date":"2021-07-25T13:20:21.000Z","updated":"2024-06-30T10:35:56.304Z","comments":true,"path":"api/articles/language/common/dependencyinjection.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635133883rappel-772262__340.jpg","content":"<p>最近这两天台风“烟花“ 肆虐长三角，偶然间看到ios开发中的Typhoon，那今天就聊聊依赖注入吧。</p>\n<h2 id=\"什么是Typhoon台风\"><a href=\"#什么是Typhoon台风\" class=\"headerlink\" title=\"什么是Typhoon台风\"></a>什么是Typhoon台风</h2><p>Typhoon 是Objective-C和Swift语言的轻量级依赖注入工具，功能较全，容易上手。</p>\n<h2 id=\"什么是依赖注入-Dependency-Injection-DI\"><a href=\"#什么是依赖注入-Dependency-Injection-DI\" class=\"headerlink\" title=\"什么是依赖注入(Dependency Injection,DI)\"></a>什么是依赖注入(Dependency Injection,DI)</h2><p>依赖注入是减少代码耦合度的一种常见方式。</p>\n<p>在解释依赖注入之前我们要解释一下控制反转，因为依赖注入是实现控制反转的一种方式(另一种方式是依赖查找)。</p>\n<h3 id=\"什么是控制反转-Inversion-of-Control-IoC\"><a href=\"#什么是控制反转-Inversion-of-Control-IoC\" class=\"headerlink\" title=\"什么是控制反转(Inversion of Control,IoC)\"></a>什么是控制反转(Inversion of Control,IoC)</h3><p>控制反转是面向对象编程(OOP)的一种设计原则(SOLID原则的D依赖倒置原则)，用来降低代码耦合度。</p>\n<p>描述：类A需要用到类B中的对象o,必使得要在类A要获取类B的引用，类B实例创建过程如果在类A代码中实现会使得代码耦合度增大，更改类B中的代码，可能也要去更改引用了类B的代码，很不好用；而控制反转则是将创建类B实例的控制权从类A中剥离到IOC容器控制。</p>\n<h4 id=\"依赖注入与控制反转辨析\"><a href=\"#依赖注入与控制反转辨析\" class=\"headerlink\" title=\"依赖注入与控制反转辨析\"></a>依赖注入与控制反转辨析</h4><p>控制反转是思想，依赖注入是技术，依赖注入是控制反转的一种实现方式。</p>\n<p>依赖注入是从类A的角度描述的：类A需要依赖IOC容器创建并注入类A需要的外部资源；</p>\n<p>控制反转是从IOC容器的角度描述的：IOC容器控制类A，由IOC容器反向向类A中注入类A需要的外部资源。</p>\n<h3 id=\"依赖注入与依赖查找-Dependency-Lookup-的区别\"><a href=\"#依赖注入与依赖查找-Dependency-Lookup-的区别\" class=\"headerlink\" title=\"依赖注入与依赖查找(Dependency Lookup)的区别\"></a>依赖注入与依赖查找(Dependency Lookup)的区别</h3><p>依赖查找使用容器的API来查找依赖的资源，虽然降低了对象间的依赖，却让对象依赖容器，无法在容器外使用依赖对象。</p>\n<h3 id=\"依赖注入的方式\"><a href=\"#依赖注入的方式\" class=\"headerlink\" title=\"依赖注入的方式\"></a>依赖注入的方式</h3><p>依赖注入有5种实现方式，主要使用Setter注入和构造方法注入。</p>\n<h4 id=\"构造方法注入\"><a href=\"#构造方法注入\" class=\"headerlink\" title=\"构造方法注入\"></a>构造方法注入</h4><p>IOC调用带参数的构造方法来注入依赖的实例，每个参数代表一个依赖。</p>\n<h4 id=\"Set方法注入\"><a href=\"#Set方法注入\" class=\"headerlink\" title=\"Set方法注入\"></a>Set方法注入</h4><p>set是更新变量值的一种方法，在接受注入的类中(上文类A)中定义Set方法，在参数中定义药注入的元素，IOC调用类A的Set方法实现注入；</p>\n<h4 id=\"接口注入\"><a href=\"#接口注入\" class=\"headerlink\" title=\"接口注入\"></a>接口注入</h4><p>在接口中定义要注入的信息，IOC通过接口注入。</p>\n<h4 id=\"基于注解、反射注入\"><a href=\"#基于注解、反射注入\" class=\"headerlink\" title=\"基于注解、反射注入\"></a>基于注解、反射注入</h4><p>指的是java那种注解(而非py3那种注解)，java中@Resource、@Autowired、@Qualifier都可用于注解注入</p>\n<h4 id=\"编译时注入\"><a href=\"#编译时注入\" class=\"headerlink\" title=\"编译时注入\"></a>编译时注入</h4><p>在编译时自动生成代码完成注入，例如golang中的wire</p>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程思想","path":"api/tags/编程思想.json"},{"name":"依赖反转","path":"api/tags/依赖反转.json"}]},{"title":"golang实现rsa加解密","slug":"language/golang/implementrsa","date":"2021-07-23T13:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/language/golang/implementrsa.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635138256OIP-C.UcxtcvLrH_YFbKaHBdoF5wHaFG?w=250&h=180&c=7&r=0&o=5&dpr=2.5&pid=1.7","content":"<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><ol>\n<li><p>数字签名</p>\n</li>\n<li><p>加解密</p>\n</li>\n<li><p>对称</p>\n</li>\n<li><p>非对称</p>\n</li>\n<li><p>RSA算法</p>\n</li>\n</ol>\n<p>大整数的因数分解，是一件非常困难的事情（对目前的计算机算力和数学方法来说）。我们可以以此为数据加解密</p>\n<figure class=\"highlight golang\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;errors&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;reflect&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;strconv&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;strings&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">//publicKey, privateKey := generateKey(999773, 999959)</span></span><br><span class=\"line\">\tpublicKey, privateKey := generateKey(<span class=\"number\">7001</span>, <span class=\"number\">7079</span>)</span><br><span class=\"line\">\ttxt := <span class=\"string\">&quot;password&quot;</span></span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;publicKey&quot;</span>,publicKey)</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;privateKey&quot;</span>, privateKey)</span><br><span class=\"line\">\tencode := rsaEnCode(publicKey, txt)</span><br><span class=\"line\">\tfmt.Println(encode)</span><br><span class=\"line\">\tdecode := rsaDeCode(privateKey, encode)</span><br><span class=\"line\">\tfmt.Println(decode)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//gcd 最大公约数greatest common divisor,辗转相除法</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">gcd</span><span class=\"params\">(x, y <span class=\"keyword\">uint64</span>)</span> <span class=\"title\">uint64</span></span> &#123;</span><br><span class=\"line\">\ttmp := x % y</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> tmp &gt; <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> gcd(y, tmp)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> y</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//lcm 最小公倍数least common multiple，公式法</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">lcm</span><span class=\"params\">(x, y <span class=\"keyword\">uint64</span>)</span> <span class=\"title\">uint64</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> x * y / gcd(x, y)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//generateKey 生成密钥</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">generateKey</span><span class=\"params\">(a, b <span class=\"keyword\">uint64</span>)</span> <span class=\"params\">([2]<span class=\"keyword\">uint64</span>, [2]<span class=\"keyword\">uint64</span>)</span></span> &#123;</span><br><span class=\"line\">\tpublicKey := [<span class=\"number\">2</span>]<span class=\"keyword\">uint64</span>&#123;&#125;</span><br><span class=\"line\">\tprivateKey := [<span class=\"number\">2</span>]<span class=\"keyword\">uint64</span>&#123;&#125;</span><br><span class=\"line\">\tn := a * b</span><br><span class=\"line\">\tpublicKey[<span class=\"number\">0</span>] = n</span><br><span class=\"line\">\tprivateKey[<span class=\"number\">0</span>] = n</span><br><span class=\"line\"></span><br><span class=\"line\">\tl := lcm(a<span class=\"number\">-1</span>, b<span class=\"number\">-1</span>)</span><br><span class=\"line\">\te, err := getE(l)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">\t\tfmt.Println(err)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\td, err := getD(e, l)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">\t\tfmt.Println(err)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpublicKey[<span class=\"number\">1</span>] = e</span><br><span class=\"line\">\tprivateKey[<span class=\"number\">1</span>] = d</span><br><span class=\"line\">\tfmt.Println(e)</span><br><span class=\"line\">\tfmt.Println(d)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> publicKey, privateKey</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 获取公钥参数e</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">getE</span><span class=\"params\">(l <span class=\"keyword\">uint64</span>)</span> <span class=\"params\">(<span class=\"keyword\">uint64</span>, error)</span></span> &#123;</span><br><span class=\"line\">\te := l - <span class=\"number\">1</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> e &lt;= <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>, errors.New(<span class=\"string\">&quot;no e founded&quot;</span>)</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> gcd(e, l) == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> e, <span class=\"literal\">nil</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\te--</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取私钥参数d</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">getD</span><span class=\"params\">(e, l <span class=\"keyword\">uint64</span>)</span> <span class=\"params\">(<span class=\"keyword\">uint64</span>, error)</span></span> &#123;</span><br><span class=\"line\">\td := l - <span class=\"number\">1</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> d &lt;= <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>, errors.New(<span class=\"string\">&quot;no d founded&quot;</span>)</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> e*d%l == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> e, <span class=\"literal\">nil</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\td--</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 无符号64位整形求幂</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">pow</span><span class=\"params\">(a, b <span class=\"keyword\">uint64</span>)</span> <span class=\"title\">uint64</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> b == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tout := a</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> b == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> out</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tout *= a</span><br><span class=\"line\">\t\tb--</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//rsa加密</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">rsaEnCode</span><span class=\"params\">(publicKey [2]<span class=\"keyword\">uint64</span>, string2 <span class=\"keyword\">string</span>)</span> <span class=\"title\">string</span></span> &#123;</span><br><span class=\"line\">\tpp := <span class=\"built_in\">make</span>([]<span class=\"keyword\">string</span>,<span class=\"number\">0</span>,<span class=\"built_in\">len</span>(string2))</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _,v :=<span class=\"keyword\">range</span> string2 &#123;</span><br><span class=\"line\">\t\tuint64String := <span class=\"keyword\">uint64</span>(v)</span><br><span class=\"line\">\t\tencodeUint := pow(uint64String, publicKey[<span class=\"number\">1</span>]) % publicKey[<span class=\"number\">0</span>]</span><br><span class=\"line\">\t\tencodeString := strconv.FormatUint(encodeUint, <span class=\"number\">10</span>)</span><br><span class=\"line\">\t\tpp = <span class=\"built_in\">append</span>(pp, encodeString)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;rsaEncode&quot;</span>,fmt.Sprintf(strings.Join(pp,<span class=\"string\">&quot;,&quot;</span>)))</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> fmt.Sprintf(strings.Join(pp,<span class=\"string\">&quot;,&quot;</span>))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//rsa解密</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">rsaDeCode</span><span class=\"params\">(publicKey [2]<span class=\"keyword\">uint64</span>, string2 <span class=\"keyword\">string</span>)</span> <span class=\"title\">string</span></span> &#123;</span><br><span class=\"line\">\ttxtSlice := strings.Split(string2,<span class=\"string\">&quot;,&quot;</span>)</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;txt&quot;</span>,txtSlice,reflect.TypeOf(txtSlice))</span><br><span class=\"line\">\tpp := <span class=\"built_in\">make</span>([]<span class=\"keyword\">string</span>,<span class=\"number\">0</span>,<span class=\"built_in\">len</span>(txtSlice))</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _,v :=<span class=\"keyword\">range</span> txtSlice &#123;</span><br><span class=\"line\">\t\tuint64String,_ := strconv.ParseUint(v,<span class=\"number\">10</span>,<span class=\"number\">64</span>)</span><br><span class=\"line\">\t\tencodeUint := pow(uint64String, publicKey[<span class=\"number\">1</span>]) % publicKey[<span class=\"number\">0</span>]</span><br><span class=\"line\">\t\tencodeString := <span class=\"keyword\">string</span>(encodeUint)</span><br><span class=\"line\">\t\tfmt.Println(encodeUint,encodeString)</span><br><span class=\"line\">\t\tpp = <span class=\"built_in\">append</span>(pp, encodeString)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;rsaDecode&quot;</span>,pp,fmt.Sprintf(strings.Join(pp,<span class=\"string\">&quot;&quot;</span>)))</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> fmt.Sprintf(strings.Join(pp,<span class=\"string\">&quot;&quot;</span>))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"PKCS1与PKCS8\"><a href=\"#PKCS1与PKCS8\" class=\"headerlink\" title=\"PKCS1与PKCS8\"></a>PKCS1与PKCS8</h2><p><strong>PKCS1：</strong>全名《Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications》最新版本2.2  <em>(rfc8017, 有兴趣的同学可以读一下)</em> ，从名称上可以看出它是针对RSA算法的一个规范。里面包含了RSA加密、解密、签名验签等所有的内容，当然也包含了私钥的格式。PKCS1的1.1版本是1991年发布的。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-----BEGIN RSA PRIVATE KEY-----</span><br><span class=\"line\">...</span><br><span class=\"line\">-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure>\n\n\n\n<p> <strong>PKCS8：</strong>全名《Public-Key Cryptography Standards (PKCS) #8: Private-Key Information Syntax Specification》最新版本1.2，从名称上可以看出它是一个专门用来存储私钥的文件格式规范。PKCS1的1.2版本是2008年发布的。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-----BEGIN PRIVATE KEY-----</span><br><span class=\"line\">...</span><br><span class=\"line\">-----END PRIVATE KEY-----</span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"将私钥PEM格式的文件转换为DER格式\"><a href=\"#将私钥PEM格式的文件转换为DER格式\" class=\"headerlink\" title=\"将私钥PEM格式的文件转换为DER格式\"></a>将私钥PEM格式的文件转换为DER格式</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash# openssl rsa -in pkcs1.pem -out pkcs1.der -outform DER</span><br><span class=\"line\">bash# openssl pkcs8 -topk8 -inform PEM -in pkcs1.pem -outform DER -nocrypt -out pkcs8.der</span><br><span class=\"line\">bash# ls </span><br><span class=\"line\">pkcs1.der pkcs1.pem pkcs8.der pkcs8.pem</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"对比两个der格式内容\"><a href=\"#对比两个der格式内容\" class=\"headerlink\" title=\"对比两个der格式内容\"></a>对比两个der格式内容</h3><p>使用hexdump查看内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat pkcs1.der | hexdump</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"PEM-和DER区别\"><a href=\"#PEM-和DER区别\" class=\"headerlink\" title=\"PEM 和DER区别\"></a>PEM 和DER区别</h4><p>PEM与DER有什么区别呢？其实PEM就是对DER的内容做了base64的编码并做了一下格式化的输出而已。</p>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"密码学","path":"api/tags/密码学.json"},{"name":"golang","path":"api/tags/golang.json"},{"name":"算法","path":"api/tags/算法.json"}]},{"title":"奥卡姆剃刀和他的剃刀兄弟们","slug":"self/razor","date":"2021-07-21T13:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/self/razor.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/16351387531635138750R-C.0e97e07ba887fc2749a84cccae618c68?rik=FZmc5Ny4zeCsUQ&riu=http%3a%2f%2fi1.hdslb.com%2fbfs%2farchive%2fec505613c3384672433cdccf648a507181dbad6b.jpg&ehk=wWqbCY%2b6I7hRIvOsJYVNPyjq4AsBHmVuFKy1c36hztc%3d&risl=&pid=ImgRaw&r=0","content":"<p>[toc]</p>\n<p>在开发和生活中常听人说起奥卡姆剃刀以及<code>若无必要，勿增实体</code>，其实除了奥卡姆剃刀这个工具外还有很多其他有用的剃刀。</p>\n<h4 id=\"剃刀是什么\"><a href=\"#剃刀是什么\" class=\"headerlink\" title=\"剃刀是什么\"></a>剃刀是什么</h4><p>剃刀又称哲学剃刀，英文名Philosophical razor，是帮人做决定一些经验法则，是一种粗略的不稳定的简化思决策工具，只能做出粗略的判断(经验上的)，做出的决定<strong>更可能让你满意</strong>也有可能<strong>让你不满意</strong>(慎用)。</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"data:image/jpeg;base64,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\" alt=\"剃刀图片-剃刀素材-剃刀插画-摄图新视界\"></p>\n<h4 id=\"奥卡姆剃刀\"><a href=\"#奥卡姆剃刀\" class=\"headerlink\" title=\"奥卡姆剃刀\"></a>奥卡姆剃刀</h4><h5 id=\"奥卡姆剃刀是什么\"><a href=\"#奥卡姆剃刀是什么\" class=\"headerlink\" title=\"奥卡姆剃刀是什么\"></a>奥卡姆剃刀是什么</h5><p>奥卡姆剃刀英文名Ockham’s Razor，又称简约法则，14世纪提出，原教旨为‘entities should not be multiplied beyond necessity’，奥卡姆剃刀更像是从500/1000简化到1/2，而不是从汤汤(封面就是汤汤)是一只猫简化到汤汤是一种生物，更不是简化成汤汤是一种植物，当然奥卡姆剃刀也可以做一些微小的删除，但是请不要滥用！</p>\n<h5 id=\"通俗解释\"><a href=\"#通俗解释\" class=\"headerlink\" title=\"通俗解释\"></a>通俗解释</h5><ol>\n<li>更简单的解释<strong>更可能</strong>是正确的</li>\n<li>假设越少越好</li>\n</ol>\n<h5 id=\"有哪些影响\"><a href=\"#有哪些影响\" class=\"headerlink\" title=\"有哪些影响\"></a>有哪些影响</h5><p>地心说对天体运行的描述是及其复杂的，日心说对天体的描述的简单的，虽然两者都可以同等相对正确的描述天体运行轨迹（都很粗糙，太阳系统中每个星体运行轨迹是很复杂的，老三体人了），除此之外还有简约美，经验论，贝叶斯推断、主成分分析法等</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211011/1633947952v2-af4cb514073ed0e75f8830646b3ae5e5_1440w.jpg?source=172ae18b\" alt=\"[天文地理常识] 地心说和日心说哪个对？\"></p>\n<h5 id=\"应用\"><a href=\"#应用\" class=\"headerlink\" title=\"应用\"></a>应用</h5><p>维特根斯坦说过： 推理过程的实质，是将能够符合我们经验的最简单法则接受为真理。</p>\n<h4 id=\"汉隆剃刀\"><a href=\"#汉隆剃刀\" class=\"headerlink\" title=\"汉隆剃刀\"></a>汉隆剃刀</h4><h5 id=\"是什么\"><a href=\"#是什么\" class=\"headerlink\" title=\"是什么\"></a>是什么</h5><p>英文名Hanlon’s razor，来源不确切1940年后，原教旨为‘never attribute to malice that which is adequately explained by stupidity’，能解释为愚蠢的，就不要解释为恶意。</p>\n<h5 id=\"通俗解释-1\"><a href=\"#通俗解释-1\" class=\"headerlink\" title=\"通俗解释\"></a>通俗解释</h5><p>出现不好的结果，不要总觉得别人坏，更可能是傻</p>\n<p>不要以小人之心度君之之腹</p>\n<h5 id=\"有哪些影响-1\"><a href=\"#有哪些影响-1\" class=\"headerlink\" title=\"有哪些影响\"></a>有哪些影响</h5><p>太多因为误会导致的矛盾了，国家实体间战略误判导致世界大战，夫妻鸡同鸭讲导致婚姻破裂</p>\n<h5 id=\"应用-1\"><a href=\"#应用-1\" class=\"headerlink\" title=\"应用\"></a>应用</h5><p>如果觉得全世界都对你有恶意，我想你应该要反省一下自己了</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211011/1633947960v2-870c054ee67f3ff9d9567f93f2c0d86b_1440w.jpg\" alt=\"img\"></p>\n<h4 id=\"希金斯剃刀\"><a href=\"#希金斯剃刀\" class=\"headerlink\" title=\"希金斯剃刀\"></a>希金斯剃刀</h4><h5 id=\"是什么-1\"><a href=\"#是什么-1\" class=\"headerlink\" title=\"是什么\"></a>是什么</h5><p>英文名Hitchens’s razor，出自2007年《神并不伟大》起源于19世纪，原教旨为What can be asserted without evidence can also be dismissed without evidence，没有证据的断言也可以没有证据的驳斥。</p>\n<h5 id=\"通俗解释-2\"><a href=\"#通俗解释-2\" class=\"headerlink\" title=\"通俗解释\"></a>通俗解释</h5><p>谁提出，谁举证；谁改变状态，谁负责改变状态的责任</p>\n<h5 id=\"有哪些影响-2\"><a href=\"#有哪些影响-2\" class=\"headerlink\" title=\"有哪些影响\"></a>有哪些影响</h5><p>认识论中影响很深，全世界很多人都认同</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211011/16339479631434.jpg_wh300.jpg\" alt=\"法庭图片_法庭素材_法庭高清图片_摄图网图片下载\"></p>\n<h5 id=\"应用-2\"><a href=\"#应用-2\" class=\"headerlink\" title=\"应用\"></a>应用</h5><p>talk is cheap，show me your code，少说多做，证据说话</p>\n<h4 id=\"修模剃刀\"><a href=\"#修模剃刀\" class=\"headerlink\" title=\"修模剃刀\"></a>修模剃刀</h4><h5 id=\"是什么-2\"><a href=\"#是什么-2\" class=\"headerlink\" title=\"是什么\"></a>是什么</h5><p>英文名Hume’s guillotine，起源于18世纪，原教旨为If the cause, any effect, be not sufficient to produce it, we must either reject that cause, or add to it such qualities as will give it a just proportion to the effect，如果为某一结果所指定的原因不足以产生该结果，我们就必须要么拒绝该原因，要么在其上加上一些使其与结果成正比的性质。</p>\n<h5 id=\"通俗解释-3\"><a href=\"#通俗解释-3\" class=\"headerlink\" title=\"通俗解释\"></a>通俗解释</h5><p>如果某个原因不能直接导致结果，那这个原因要么和结果无关，要么只是结果的要素之一</p>\n<h5 id=\"有哪些影响-3\"><a href=\"#有哪些影响-3\" class=\"headerlink\" title=\"有哪些影响\"></a>有哪些影响</h5><p>知乎直呼内行</p>\n<h5 id=\"应用-3\"><a href=\"#应用-3\" class=\"headerlink\" title=\"应用\"></a>应用</h5><p>抛开剂量谈毒性都是耍流氓</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ0AAAC7CAMAAABIKDvmAAABg1BMVEX29vbenGjstIXJilfRkFo3OTjssHpVUU7uuY84ODjgnWk8ODX3+/3cmmMtLjDlvZ/////08u/JjVvZnGlELxDisYzVlmDstofjp3bx7OhJSUnmrHw3MzDIhU9zc2/Uk19JRkFCPjvi4d8yFABYOxNINB1fQBRzc3Wko6FwPBXuxaNdV1BxTR13dnHyzJ1uTy7wz7TU1NLExMLx49hoPwBNMQBZNwCjdkzv1r44JQCsqqi4uLhQVVhUWVyDgn5qa20pJR/Tx8DFtKq4pZinj4Cbf2yScV2EXUE/IgBKHgBkKQBrMgCJZU+lknvUzMN8UTXEva9fKABGKgBkTS9NNRTRonppSBu4jmWGYzwuHQC/jVwtCwAcAABWRzVwYVHx2cXBnoGOj5IbHiDNZXvNgYoABwC/AC3QcYFUi4i7zczLTWO+ACjnvsRij4w+e3b04+aEpqPGGEvkqbbwz9jelaaYvLy9doSsjZJ3kI7HNl3punhYmZn56NKziZCBamzz06vgw67RjbHXAAALv0lEQVR4nO2ci0Pb1hXGhY2RH7JzPQO2bCNsJcVKHCfYFAg2tsijXZekLMtCkqVrqZONJluSli5t19Bt+dN3H3pcOwZsSVcS5n4BLIvAvfrpfOccXdkIAhcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXF1e4JMEPQIS2z7d2b968dfv2nTt3Pvv8899/tguCns9I4dPlw6nKfvGHu/fu3iO6fO/u/Zt+jDqZJLD75e3btx7s7jZVVZaz7EbKfrI1f+myrXt3/3grXDwk4cHTTyld/aLJbKzsJ/NQjygel/90+Raz4SYWyN66+ulVW48fzV9kTQPyWLlk6eGfQ5M95NsDLFYewan6QcNmcX3vflisAu6sr2A9RsIsfKWxfulJPH4lNDS+3FixdWneVxrr69chizDS2PCXxsP19UvXN/fi8RDS2Nh4+iT+ZN0/GltPFhbilsJEY2P98RM8tc0Nk4bKbDyjws7NxeOhpLGyaZ2lp+tbvsTG1vWQ0pA+0NO6vrm5da5p7NPTys+dcxo3AqAxz2kQIRpbm7mzQuMvPtB4OndGaDxDwcHzhkFj7hmnQcUG837j4hmiwTqLCtn2/FfhpTGq3/grQxoCAA++XhmgkQ8PjY9i4+HFrx8wHhPsmjSuYO2HhsZwbHz1TYv9qq2cLhQikUhJRjOAYj3e2CI08nmDxrdNP9Yo5XQuVzJohE5ZKAgkXyrM+BO0oaYBJeVh5OZyaZY0gBl2kk1DRcqGZs3ckEGDVWzIzWYLqgkPHT65Es8RGjdbmqIrSqMdFh5AbeLTY8UGwmHeNfZMrR1RQep3Wi3IY7+UxjTWIKF2A31Dk0PAAzSVIlS3149gGrlSfBUC6kC1O3DmXjUerZ1yqq40TB6StFaCRaW0L6swZto9uF/X1KB5tPTi9va23u/3OwaNCzJQtX6/1kXfKGaee3RLtrWTSpVTotJo2Dzic5G5OMWj3mN4//c0AcKiW0MsVBmVf8yi3e/3utvdbnc7lskkPBoM0SA8kHow8FRJWCslkwuqKre1dkOEqrJbnD5ZADT7XTMuWrK8GimV5lYJixphkchkPKMBoFPKZcSjgg670tO0NvLF6gf0kgBN0+p4d1A0Ojq0QSwRy+g1vaOq+4VC8kJWErRar7aNlSHyhgZoaXVdr1dNGqLe1jRoC+nF32B1bWlaXwyShvr3mKHtWq0HYE1ZWIO1RNVrtWoCKmbAyMQ8sTLQy3XkkHoqRWiIMByaEMbBwXcAQDK9QGk0n5s0YrWaDg3SfPkKoIip1SCKGKFR7CLpHgwHlDIJiqpJA1lFkP5xcPAOWEYRK/1gqkoHugQdNfwCaXSA8PLt21cC6NVq3QRkEUM0UOUtJjJFD2YIaaQGaWCrSO8O/vkaNCEN0djLciXh+NlpFo1EF1kFvEE0kFGKMZNGgjyyoYGtIr0+OPjeNoooKj33YzmYXS9DDhqqCIMjC354+1YFyCjGbpQyYl7SGHKK2Ne0Dnh9ePi9AD1TN3bWlVYAXgF14gd8+iGNFvjp5UsB1JBRMA1UXY38wSg2FBgSwo+Hh/9CRjF3VhXF/WCTz65q5lBIBVqlD346OjKMwig2DBpl88CRVdR3h4evkVHMnbA50wIIDrOkoEhAVhEQDWwUQyQ2GOaNCrIKpPEjNIpuEkqVFcX/Kis/t1gYVoE0VFRRYkY+YU4DWaX94tfDn+2KAmmkqg3/qyxpN4w0GoMhof1wdPSqhiuKRYOJU2waIrTIz4eHv2jtnrWrmoJd2hhVVoL/1txPy1DruR0Z2Cq1o6Ojf9dMo5BelEls2HlD1DXtl8NfIYwKRSOVUhqn/rrf3t9Yff/eqwte0M5YrSgqLjA43hwdQRi6tduH2BDrWvvXF23F3oFolEWlc/yIQNV6v71/fw1+XLvh0SodbjdsGLEExHH0hobhR2ygpuO7/9AwRHTVn1KU4846ZKEomb1rhjxaYgbUYRMkeg0apZuwkwn7LIr13/rA0wa66K8cU2VBEy0JKfcLBoz/eWQVIOIGK0Hx6L6pFRMxO7d6TmO4Fx2lilqBOGAi/bjKAqHZQ8vJjfo3BgvZs+Xs2AAN3HR2iwmmNEbHxjANskT20eUKEFooLiCLajnzLWRxwzsWgozSBpVIKYfEGPeip9AA9TJOpANVFgidBkLRqKewk+7IWS9vc6iDNCgIFpSAaAgqCo4yfbkCsm2ULhqKiFmkUjuit/0Zbjcyg4cfY0yjPKqmiA1liAbo7+BE2jZGBWobW0QRy4RFeWec9mySubVhTkjYRRY6JTEExS8abW2IhpBFHVhZV3D5xCUVs0ilDBYNr++agz7lFBNDtzgQIoQGwyt6Ir0+TAN0UHBUUZUFap+wqJRNFj3v70CR5ousX1g89C6VVRPsV3uOyRto7YVU2aZRUvWqaZFUn8XdWtJ8DbQbJFSokst+feM4GkLTSKSkjFgsKhqjO9ci9kDCjAMqKOheNJCagv5zDwVHBaJQKBYdVnfxZXKcsY9okD7MWB0OyilQJDiM9gKxEFsCs1UP3G4MO2WoqDBfFyUybrIN0jASqcVCZ/riq+YOPlwjhRr9eNdc6PG1F+31RtAQhLpRRJiU1CF1CA06W8Ri5HI+QcVGUHlDMBIpq5I6NDUtgxsKwyNG5qhaXKiawtwpx9DAiTS1U+6zf8GP0XyZJZXccxssLEHHhpDdKe9UWZXUoalZNEwe5sW82Y0lEoHWFBS/Vb9eGEfaDTOL0jTsGhNsFsU/437YsYSzRSZDHftAj+5nFh1ZYX1VdodygmmQhL5tth1suq/xO3N/pT4nR5sZ6Lm62wk7SgynJDylUYeqVPHDccI0sln8Sm/4IJAt8sU7ZW0JQqtcraJFhOoIVcxH9H04ddgQih4su0EamftzrrTq1eKfdMXdRNzf44M0KskpoVFwPQNY1J9NC430BbczAcr95LTQSKbdegUoyemhkUy6nUFpmmik3b0pUdpPTxMN6BU3k5Hhb0jOLLrR7L5HMATpw6yrmaBjcVNXpAUUGrOutOfhvcY9VzNZRsHhvK4Qnyy6o+FlL7q25GoqaewVp4Nn0Y/PuJrAkqfvtpM+uMOBvOK0rkgLScMnM86U9tYnaEo5eIYdzmbWlVeIT9IuaCx66xMkeckxjajlFSc4cD1BoRGNJp2Nn/bWJ0jQK45pRA2vFBycIqueRB3TWF5g8BbdPYc0kpjGojOv2D5xTmORxTsh5Vlns4E0bK9MOiiuJ0ZoOKTh/ppxlGDMOprNTDRqeSU96aALFIypoJE0aDipK2tm3zVdNBCOGYRjstfvrqWp0JgKGjPRKOWVyWlYMKaMxrITGumppGHUlYlp2DCmigbxyqQ0KBhRZ8OHi0YyauNYnpTG7NKU0ZixaSwtzU5GQ77w4UJ0qmjYsfE7eGwTdsmSlF2yfnwa8gZFQ3DwZ8rkqaXh5PKJ06DFadDiNGhxGrQ4DVqcBi1OgxanQYvToMVp0JoyGjOe0yiNrQJjGoXxp8IsNvJQEfyJvubNp+ghgj8j5hPWNEroT8zmRykytBXxnIYZbJGxxZzG+FPhNJjSSHIanAYtToPWqJrCaUxJbHjffYWIxvhhGlhsoLbMJxr2mHlr8Ig5fD5ib7OmkS/kCvADb5ZyUAWyP1eA2/7SwMMbY+JNsr+AN/P+0MihV03m8LkooM1lsh+/QNUvGuT0l6gx8Sbp2BetCUJg54FG5BgaEU7jpNjw0SmR0NGgYiMSgryR95FGZAwa58cpJ9IoMHLK8mk08uFxSn6YhuexcRqNxeGTE2BsfEQj0LzhK40Ts2iYaKQ5DSpv+ELj5CwaCZ5GiJzCiMapNSWcNIKqsCHKG1RN4U7hNMZzCquVwDNCw/9r2FDTODdOSY+zvhEaGuzv0Z8lGmGoKTxvhIHGYj48NCKB0whTbHAao2kwu6KfGZ9GhNMIisaJK4FhqLDhocGvUwway0ydcoZo+JA3wuoUftV2pq5TeGwEFhsn35UOQd4IEY0QxIavTmFA4/8MVNLcnl5qOwAAAABJRU5ErkJggg==\" alt=\"卡通手绘辩论的人免抠素材免费下载_觅元素51yuansu.com\"></p>\n<h4 id=\"阿尔德剃刀\"><a href=\"#阿尔德剃刀\" class=\"headerlink\" title=\"阿尔德剃刀\"></a>阿尔德剃刀</h4><h5 id=\"是什么-3\"><a href=\"#是什么-3\" class=\"headerlink\" title=\"是什么\"></a>是什么</h5><p>英文名Alder’s razor，又称牛顿的火焰激光剑，起源于 2004 ，原教旨是If something cannot be settled by experiment or observation, then it is not worthy of debate.如果一件事不能通过实验或观察来证明伪，那就不值得辩论</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"data:image/jpeg;base64,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\" alt=\"牛顿的烈焰激光剑_万图壁纸网\"></p>\n<h5 id=\"通俗解释-4\"><a href=\"#通俗解释-4\" class=\"headerlink\" title=\"通俗解释\"></a>通俗解释</h5><p>如果无法证伪，那就没有讨论的价值</p>\n<h5 id=\"有哪些影响-4\"><a href=\"#有哪些影响-4\" class=\"headerlink\" title=\"有哪些影响\"></a>有哪些影响</h5><p>对科学的判断，可证伪性，伪科学和部分宗教人士不可证伪</p>\n<h5 id=\"应用-4\"><a href=\"#应用-4\" class=\"headerlink\" title=\"应用\"></a>应用</h5><p>先问是不是个问题，再问是不是，最后再问为什么。</p>\n<p>波普尔的可证伪性原则：科学的理论必须是可证伪的。</p>\n<h4 id=\"格里斯剃刀\"><a href=\"#格里斯剃刀\" class=\"headerlink\" title=\"格里斯剃刀\"></a>格里斯剃刀</h4><h5 id=\"是什么-4\"><a href=\"#是什么-4\" class=\"headerlink\" title=\"是什么\"></a>是什么</h5><p>英文名Grice’s razor，起源于20世纪，原教旨是Conversational implications are to be preferred over semantic context for linguistic explanations；在语言解释中，会话含义优先于语义语境</p>\n<h5 id=\"通俗解释-5\"><a href=\"#通俗解释-5\" class=\"headerlink\" title=\"通俗解释\"></a>通俗解释</h5><p>要理解说话人说的真实意思，而不是理解说话的字面意思</p>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYWFRgWFRUYGBgYGRoaGBgYGBgYGBgYGhoZGhgYGBgcIS4lHB4rIRgYJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMEA8QHxISHjQkJCQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDE0NDQxPz8/P//AABEIAK0BJAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAAEBQIDBgABB//EAD0QAAIBAwMCBAQEBQIDCQAAAAECAAMEERIhMQVBIlFhcQYygZETQqGxFFJywdFi4SOC8QcVJDM0orLC8P/EABkBAAMBAQEAAAAAAAAAAAAAAAECAwAEBf/EACYRAAICAgICAQQDAQAAAAAAAAABAhEhMQMSQVEiBBNhcRUykRT/2gAMAwEAAhEDEQA/AMzeXWQB6RTWqhZ1WrgcxPc3GTJRi2WbosuLok7QIzp7LpUTbs5V8prvh+yrUkZ3pt+G2OGUkHGclAc4+mxEzdiDnIOCODNp0vqGU0YbODkcjjkn6SH1GV1q7KcWH2AusXyOugFmQkaiNjgcYJznB8/WLbcFCqLkg777bZ2G/ljt5xo5fB+RdsE4Gc9hnc/XiD/xYKFMeP1XJG2/rx27RYR6x6hk3J2DdQtKgdToLnIClPy6QCQCBz/mOen9QV11Ug6kDDBmVjnuQVHy+/lEbKzgIHI5UooOogncY9cfpK6uum2tToA40nIIG24PJ947Fi3HLHlV6TPmuzZ8LDCkgFWB8WAef2j3qIt3pZRl0upwynOW/mXI2I2+0w9tfEq2s5zkkk43GcH/AGhDXehkRTqy2MFshVPceWTmCsmlyqTqidPpmWZq5XYaUBBYED0HGcxZ1iwWnlqbEKceBuePEQRyM59Y86kSRrRiukHVxhlwTuDscefqfOZd7gZJJy2/O49vrGX4JVnAADLGfaeZz5c8f7y1aWewA/WNY1FKsZfR/E5UNkHIMJtkUH/bP7xtT0Y5z5Zz+0DZjum3DuWU6VcDbw/N65gVp+NrDA4ZGJDYIzvjB2zz9pC+pspDKSMcEbESheq1OHYsudxsCfriLXoJtrzrA/D1upUhRkDLAnHPp27z59cHLE6dOd8DgZ8vTmbWyuVqUgwwcDRuACSOC3+rBGTMv1egyVMHdRjG3bnBx37QxVAHdlUKJTDKxJGSPy6e7nPHtDktkyXHZSdXkp3wP2+sFW9SqgYEdlemSfvt2GITeuNCKuNxqb1OSAfsNhFd0Kl8qBDV1bQxFVRxFgGkxjQqjvItUdieAykh54lurEHSv5md+KDBg1haVJ5XpBhBw0IpvHizMz/UundxzEDoVODN/WpZERdS6fmUjIBm50sq0ypwZXKAOE6dOmAzydOnTGPoKfBCOAXuwM9lUf3Mtf4FtFBxXdm7EkAZ88ACUWlcqmXGGI4J/wASus5wTrA+sl2lpEisf9nJJ8Nyv1TP3w0V9Y+C61D8yv7Ar++ZZbdSuab7MrrnPODjykOq/E9VtmUgE8xlKdgfWhRb0WQ4dSPeP7S+OjQcaRuMbNt2B/tF1t1QOMOM52HnHv8A3A2kMGAGM4M0reRotaBbh1KkoRudwy4wP6v7QerQZ8FU2XBLZA1jcEj19OZZXpunzDK5zjtBVvtPbY87ncevbzgtsZKii8qtSqKfEmV1qwI1hgTp3XgggbfeW3101dFdlRQWydKKuWGRrZQfmPoIRrWoMsgJxjV2HrudjtxwfSXI47gDgjvjHH0g7ZG5IOhfcWgVc4bSdILsSSN8nTsMiDtSpqz6W1Abg8eEHO47Ew+5smIP4lQuDuhLBgT/ACpjj644gJorSVs7A8Eg9+w845ytC+46hUbLAlQw0nH5gRgg+YxFsJvHVmJUkjbGf1x5CUqI6VBospqBvL1PlB1liNiBjIt37S+g4U8n184MzzxFgoI6L61xjHvF150/SM5zLrU77w65AI4g0Zi/ol0yOU/K+NQ22I+VxnuMkeoJll+xJbX22HnAzTOsac5z2jnr3TnTS5B8Sg5x3xuDM3kKjizP065Rsrt/jyje0uieTmI3G/lLrap+kNWBPJpSMyDVMd8Su0q5EnXp5kWqZaLBql0SfSHW9zFZXfEmMrM4j/oe062YQlSJ7aoYWteJVGY3SpPKyZEDpVoUlSNFisRdUssjIEQOmDibi4QETM9UtMbiVTBYrnTszo4Tp06dMAeUH1bsfud5K9uVC4AyInt7Ks+nAwBxk4jqh0pwvjO8n1pkbETV3BzhgO0YdOug50OmcjbMr6hauHGDn0jO3po4AKaXXjtHTrIJRtDe1+EhRNO4ZgVJJ0c48iTIdf63TClQ3i7AHiRb4gemmh11AbDuMQvp91ZOhdwgIH5gNX6x8SRJuUWZy26y3DeJTzCHs6VQFlfS3ZfOIOq1EFVjTGEJ2A4nWt2MbnB7RHGtFIyHNGlp5l5glvd5xq44Bhd0NHfOZJptl1NULbwRReNuAewjK4q5OIpuDljLolJlU9E8xOhFJZklkRPYAlyGXKsGQmNem2b1DhFz69vvFbSCkz20IyJpbToj1t8aU8z39hDejfDqJhn8T/oJqaQAGJCfJ6OiHF5kKrDoVGlghQW/mO5/2h9egrjSwBB7EbS1zKy0g22XUUlSMV1/4PBBehzyUP8A9T5+kxdFCrgEY3wQZ9mdphPjKxAdKyjBLAP5Z/KffbH2l+Lkd9WR5eNL5IVo2mH02yIsuUPaE2VSWkrVklsm6YMrqcQuumRmLnzJIrFltN561beDrOddpqCw+hcRhSqzOJVIMY29eZxom2O0qQa9pZBldOrCC2RChWZO7o6WlEedRoZ7RIRKJhTOnTydGCF2l+xIAz9JpUqMVALYJ5J7RDbBUGSBtOa91HcxGrIaH9tY0QdTVMsN/SHVHoDcHfGJkEffAMserpHPE1GsfNdUnJUrEF/ZKzeA49J4LgdpXVuSJkbYvdMHS0GcYMMqVNXPMstun61zneMnWzdb0d0qqCwRjsWHM1V7QUJjIO23pMZcWrIdx9RCLapUZhksR6zNXlBSei96RzFlbn6maDSe8D6f0/8AFuRTPBJJ/pAJm7DShoVFDjODg8HG33kJ9Le2whVgCnGnSMD2mD6lY6KjKAccr7HiLDk7MM+NxARLre3ZzhQSfSH9MsFYjV9puLGzRFAVQPaafJ1wCEOwj6V8L5w1TYfyjk+57TXWdqiDSigD0nU+Jcric8pOWzqjGMdF6iXJBWvlXsftPE6oh2zgxKKBbSJE8NUHieFoDFTzPfE9PNF/QqR76hNAzRT1cqUZcjO37iGO0wS0ZhqORBApUxtiDXFOdMZeGc0oliHIgFym8Mt27Sq7SK8MMWAgyZkDIkwjWU1eZ5TqkTqkpjk3sbULiH0q8QUnhKV8RaM8jeuMiD0enId2GSfXiRpXGRLf4sqNhmBtrQExbd2QDEDidB7i5JYmdDTNkruHJ27QYgw0psJ6aHiEdMSjy17mXVaZKE+suWjhYaaH/CPrFcsjKIk0HSDLaqbCHpbeDEg9PwibsahFVXBh/S62DjsZG+o7ymh4TH2hdMc3K5kLZMSxNxOXaBaH82WhJCyqfhXVKoflY6GPlq2/v+ktpvB+r1AKJ28RZMHyxkxFuh28WbC8cinsN2Zv0iK5sw4Gr5h39I36LerXoBu6/MO6v3HseZ4KGgtr31DKHsR3HofSc+YstiSsR21loM0FBoFo8UKziFuwRikMEEmXxzIW3EtuKAZSP2ij0BXPWKSbO0GS+oVThCM/Y/aet05AjoMeMEEkeLfyaKrXobI2oeN9QOon8o2x9o/xrYr7Xo0NtTK7Z2hleppE8oU8AZkOoHBEkOL7gO/LaVi+tSphThtTe+ZR8Q2VVwuhj/rXOMe2DvPLfp4RGbfcjA7AcbCVpeyTbfgrlNydpcTArurtKRVsnJ4IW1TeE3K7RZZ1PFGrjwwzVMSIpYSDS6qN5S0xRFLiUlYUVllOyJ52j2IwKmZcRDxaBeBHvwx8PrXfL50DsO8F2ZejN2dF2OwOPOaFKYC4wJrOs9Ep00yg0gCfP729O6qdorbbpAlgW3lIajjidPQJ0ewWWihsJfWTDL9Ictv6dp1egxIIXMn2sboTqUPADDfws05S7Np0lIZQ3TTEbKJC+jSysDq0zj6x/TtdIi26pMDsM7wJmcRTeUjFlRMNH1zbvjONorvKJGDiWjInKITQbae1IBTciHUhmUqgLOCtHIMsvjqpMMZ2yPcf/jLfwpVd3C0wwyNQHHO/lFu3gLVIWdI6o9B9S7g7MvZh/mfSLW7SvRDIdsZx3BHYjznyhmzNR8LOPw6gychlx9Qc/sIvLFNWbhm06NCwkjzKqbbQhEzOc6Q23biMaQzFdKHUniseJfVtVPaUpbKO0tetBmuTnTxmAZouY7yN2PlkQpzzJ3fA9IRaBjaA77wTqwCU228v3jOhWyIm+JqgFPHmRj94Y5YskkmzPs+YLcUyZdbHMIqrtOlPqzleRJQXS8dL8sVuPHGdL5YeXOQRF1wN5SZdd8ymnuRFWhw6ytM7n6Q11C8yNCoAILWrajJuTZmSd8maf4e6iKQ34mS1Sw3BxiZ3WAJGi+K/ic1R+Ggwv5j3MyEtYSkiNHBnElmdPNM6NYvU06jA+kGq34U4xk+UZWygj6Sq46eM5AkkX8YFq9WOrQU3zjHeM7aoDuJQvTl168eLzhtG2xNKvAIqXkIqnAzFd1dhBkiO69LwCLq1oGG4yJlQ0k6wJx1JjpymzcSHUaWQDGq2AGDjiCdUGAIU/lgVp9ciVqMtoCTqNtKqDTobtElsuu7wUqZK41tsuc7DuR67zLVHJOSczQ9UtC4GnGV7eeYkq2zqcMpz9/1mjQk7bKPaaz4UVBSrakYvqTSwbwrzsR3PMz9CxqvhQp3I9BNz01FoU2pAHgb/AMxPJ/SDkkutGgndnlDeMLeAW5zn0MOpGcx1JhhWSVZFW2k6RiUUTIq+8lcWqvg5KkDYiC31gWGpGZWHkdj7iLqdasDjVqOcbHBP0MKQ8U5FtUVKTgancH/mz7eUY/jEgatvT/MWVeoVFJUowPrg4krB3qE6ycD2mNLjcVYb+KBuDM/1euah9Bx/mMep3Cr4F+vtFRMeCp2c8neABAQYUW2kKglRq9pbeSLwCP8APGtEeGLDu0aU/lh5NIERZe8yNsnee3p3l9ou0W8DntQ9pSDLa53lBMmNRPM8kQZJeYQlmkyItzCqWJeHEXtQGL/4Yzow1jznQd2ag62rbCMKdTIii24EPpNMUQcqCTTcyhWzPNTqTgD6zBGjY0EQGkJR/Evjcf4k7dzjxQGPa20z3WqmMR7cPM71NCze0eH9hZ6FrVZfap3gb08EQ+2bE6ZYWCES+q+IJWvMknTz+naEVRmVC2ycDmJGvJpIcfDtvr8ZGw2X37maWnb0ypLjfgbD9TniF2fSFpoiDsoz743/AFk26f2O8SSsKwZZCoJHr95ctQAzr3pzUn3+U7qfMeXuIPUaReGUTGVJ5dTG8S0roqfMRlQuwYB0xokGurFX3xg+Y2llKqIWriKUT9GfHTWJ3JhVK20qVUgYBOT+/qfSMKjiZu+v21kKdht9e5jRyLOcmssUVA2o6jk5OTJie4nspZKgeum0U1XIMdVDtO6d8N1rpvANKA+Ko4wo9v5j7SsJJbJyi3oUWrZMcL8s23Tfha0pIVNP8R/53Zs/8qqQBPX6HbHb8Mj+l2/vmJPkT0PHilR8zvOZO2qbTf1PhS1b8tQeoc/3EEq/CdsB4Wqg+ZZSPtpg7KqD9uRjX3kMRxedArJuq6180GSPdeR+sVFIE0amQnqTiJZSXeF4RkT7SBaEVE2g+IsWmFqiGozp7pnkIB3b8CHU1gFudhDqZisdFrVNPMpq9WTtvCQmeYHWsAeBMvyFVeSB6spltK7DbLBf4HtgQ2hQCDaFpBlXg8uHwIvZcxhVtKr7rTcjzCmE9N+H3qsFL0kJ7O6a/ogOSYYxl6JSkjKXabwdHM+lX3wGigaqj5PJwoXPoMEyux+B7cOFao7nkJ4UDemrv5dpe6wyLzo+f0SzEAAknYAbkntgTYfD/QXSshrrjA1BT5gbA+vpNvb9FSjgJTRNtlAOo+eXG5+sGrViCdSlQcc75K8aT7Z+3eI5WwotQbyx0zIrLFmoIFe2a1EKH3B8m7GYO9oMjFWGCDj6ifSXWJ+u9NDrrA3Aw39PY/SJKI8WYQvB6lUjjaMbuxZeBkRelu7uqIpZ2OAvmf8AEmgvB7a9Wq6tIUP9x9cx/SruUdzsEXUf8R70v4Rp00AfxOd3YHbP8q+gnnXem4tnp0QNTAAZIGcEHk+0fqgKTMdcdYYjHEXm5ErfpdxuBSc4/lGofQjYxXcWtdN3p1FHmyOB9yMSiiifJKSY3WuJbTGo4XJJ4A5lXw90GrXOpiUp/wAxG7f0g/vPoNh0tKQwigHux3Y+5iScYjcalLYq6J8PLnXcDIG4Tsf6j/aanWoUA4RBwqjAx7QUtiDu+TvJNsvGNDSldrggIgHqMn7wV1UnuPaQphccGTWsg7Z94o6KDQf8jfcZ/aC17W5H5EYf1aT9mjB+ot2IUemBBEdnbw6nPplpg2gIXRXZ1ZG/1DA+h4gt/ZJW2bAbs4AyPLPmPSaQU2A8bKo8mI/+MDuRRUg5JwckIFRT7nGcTWK2v2YDqnTXoMA+CG+Vhw3+D6T3p3TK1Q+Ck7d9kbH3xibSp1HUpKImE38WDg+7SHUzdlNa1RoVQSoJDAEZwN8GGU8Z8krSd2IOp9GrUkD1E0g8ZZSfsDmK7a2LRjXRz84OT3McfDPSGqA6U1HJz6fWL2qOCsUm7bwZSpbkHE6azqvRagfDUmzgeU6J9wPWJnqJwIQtYShUI2lbmXZGxtRqQlSDM5rYcGEU+pNwVzMg2O9uBHlv0kU0D1lALqzDWDhVGMHy1ehmYodRakBW0A6GXAbgkn/rG5+LaVxtV1pkacKQwAPlnGJbjg3klyTSwFdKvUDYKaQ5ZVbbK5+Vt24OOZG9qsDorqHTs7KGU+jbbH1/6xfVsvxnP4dROwRCSuABjIVhhm2zgHeaG2qu4/CfSNAG7Bw77bhgw2OckHJlk3HJG7ArUsn/AKeu9LyTXrpN7K+V+0MHWq6/+db0qwBxlcJUx5gHKt9CsU39oUf/AIZIOMlRwOfm2KHiVJ1So6Gk2BtsQD+2/wCh+kdSjL+yBleTTWnVaNxtRqOrru1F9nx3wGzt6rkS9dbqyI+dvkc4Oe4B7d9uJj+ldMaplWQh0bKOMhlPIZWG8aW1wwqGnVwagAw48OsD8wxw3mODz7JycVZiGM72NOl5wUYbr8vmV8j6jg/SFCA2rPq1MwBBGxOGz3yO4xGxQMAw7/oe4kUURWDJqoOx7yOgzi5GwGSeB/c+QhGMz1Gz0v8AhJqLsMoug6dPmX4AEcdD6GluCxw9VvnfH/tUdljOnTxud2PJ/t7ekszAopBbbKni25rYdFwGDatQP8mBk478j6e0YVnx3xMh1brQ1ZQZ05Gr07hfIHEKi5aJznGKyMr2+tm8CsMgjwruRjlSP8GStmYAjWcHsdwPoZnuiUUDOceJeG80fLocexIz6TQB4nJh0V40mrJBQOJ4zyBzPCQJIsiLkyDric9f0g9SoTMEPXHOoY95RWu1XJxn0i5qw4zv94s+IjcUVDfhkKdsnBwcZ3UHPHeZRsDkkaKl1Twbqn1VT+4gNfrjYwCSP5V8Kj0wJ87fqdU8ufYbTSdBvfxRgjxjY+vkRGlxOhJTGNTqb9l/vFta7Zm8eSvcAkRr1Gk1MBmXSCQAcdz3xIHoKspanco55wVZc/4k+qQYtyFF/YkAMlR9D8rnbI8/OeC+rEBPxGxx2O3lxGb/AA9cac5Q4/KHBP0B2ilKLpUAdSp8mBH284zb/wAN9tXoNa3qlR484H5sz6B8EXdaiqrUtn/DqHasgDANnHjCkkKSOcbTIn5Z9X+Ej/4Sl/T/AHM3A3N58CfURUI1HQ1NIHfb7TpOdOvrD0cXaR8T6tZhSGA2bn3ip7XPE11zSDUyD5Z+wmaSc8sM64vAH/AHzl1GyC7wsSNY7Mf9J/aKsuh9AHVUdggC+ADVnnJPc44GIJaWBO5B527Qrp92xwudjt9I3x+09BRUUkjik7ds8SzRUXc5xuTtvnt5w+36y6YDHWo28W/68j6GLnqHTiEW9uDiGqQE/Q/o3y1EIDNnGNDktsedLHxfrMv1MNQdHQF0ydQwWKg98Dcj17bzR21iqnIJ2lt3aK5DkeJQcH0PIPmDEcUxrdAtK8DoTTYAryVYlQe+oA7d+0SX9N2Bfh0Odjsw5DAyfT7fFzUphjpCDT6LU1HT9DuDLum12NY6sYKjAAxjO3mcxFJp0arJULxKwQVMpV0jQ67ax2x2J9DNH0W7KtoqYydwRw3bUPL1EyHXrRVO3GcBewzvt5Qjpl67IwY5KMoDHnjY+/b1hnFVaGhLOT6I1Ly5kRQC+/cy+0GFA52GSeT7z2rJFgOeMwAyTgSF02OJjviPqlRmemDpVU1bck+syViydHfFfWuEUkIxwSB82PXsP3ia1YMMeYzv5e08vaAIXO/H3wN/eEUemDIOo7gHj9JeDo4+eLeTqLhCjkeAZR9jsjHZhjkq2/sY/t6ytwQw8xwfUekzdJsEryN+d+2/3hdtlfCCdIxpHkGBbGe+D3k+aF6L/Scrrqx/XqqsU3N+o7wS/rkKTztxMl0XqzvXwwBBzgHt/mc8YNnXLk6mxoVmqHCDJPGSAP1hV502qlJ3ZgCmPCNwRzz7QZXCMHCg45U8Hfb2xiaa/vNdlVZlBIXzlIQXkk5tmctnQKKid1O/POOfYwu/oM7fho5yD/xA6koUI3bzbORgZ9MTO/DdUljTPynSfbJxt+n2mgvbgq1SqoAKHQvmAQhzn3Pl2lOVLthEoydWz5p1ixNGs9M/kYgZ5xyucd8Yjv4LsHNTXoYJj5jsDvwM8zTVvh+lWpGowxUpOfFjOtSc6XHfk7xF1Dqdan8jKANgNPH6wTuOCscqzU/FKF6KhfEysDgc4GR/eY6ncMh2JGOe2Pee9M+Irl2Cmpz3wP2mhNQg6jhmwPEVXP7TmklZfjtA1n1F2HysfUA4+8aodY0umoeTDj28p4l8+keI/eEU758fMYha/ZTd9NJUlEYHHG5H0zvNt8E3gNuiE4ZMgg84JJEyLXreZ+8GrdSemxZDg9/X3gtwdoz41y/Bn0256kqnGZ7PkNfrVRmJP7zon/RMb+Oj7P/Z\" alt=\"甄嬛传\"></p>\n<h5 id=\"有哪些影响-5\"><a href=\"#有哪些影响-5\" class=\"headerlink\" title=\"有哪些影响\"></a>有哪些影响</h5><p>每个人所想，所做，所说，潜意识都不一定一样</p>\n<h5 id=\"应用-5\"><a href=\"#应用-5\" class=\"headerlink\" title=\"应用\"></a>应用</h5><p>听话要听背后的意思，有的是因为需要壁垒，有的是因为人之间的思考方式和语言输入方式不同，本质是数据存储在人脑的存储时、数据组织方式、输入时的差异导致的，当然，也有人善于利用这一点。</p>\n<h4 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h4><h5 id=\"萨根标准\"><a href=\"#萨根标准\" class=\"headerlink\" title=\"萨根标准\"></a>萨根标准</h5><p>极端的论断要求需要极端的证据。</p>\n<h5 id=\"波普尔的可证伪性原则\"><a href=\"#波普尔的可证伪性原则\" class=\"headerlink\" title=\"波普尔的可证伪性原则\"></a>波普尔的可证伪性原则</h5><p>科学的理论必须是可证伪的。</p>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程思想","path":"api/tags/编程思想.json"},{"name":"编程哲学","path":"api/tags/编程哲学.json"}]},{"title":"三分钟入门分布式系统","slug":"systemstructure/distributedsystems/distributedbasics","date":"2021-06-25T15:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/distributedsystems/distributedbasics.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635139026v2-d8c785337cc8600d5a444e949e9ab236_r.jpg","content":"<p>[toc]</p>\n<h2 id=\"什么是分布式系统\"><a href=\"#什么是分布式系统\" class=\"headerlink\" title=\"什么是分布式系统\"></a>什么是分布式系统</h2><p>为了完成共同的任务，通过某种通信方式(一般是网络)使用多个计算机节点。这个由多个计算节点组成的系统就是分布式系统。通俗来说就是使用更多机器来处理问题，其实我们的互联网就是一个分布式系统。</p>\n<h2 id=\"为什么要使用分布式系统\"><a href=\"#为什么要使用分布式系统\" class=\"headerlink\" title=\"为什么要使用分布式系统\"></a>为什么要使用分布式系统</h2><p>单节点计算、存储能力弱，硬件提升性价比低，应用消耗资源过于高时；要实现高可用、高并发时；可以无限的横向扩展</p>\n<h2 id=\"如何实现分布式\"><a href=\"#如何实现分布式\" class=\"headerlink\" title=\"如何实现分布式\"></a>如何实现分布式</h2><p>简单来说就是对任务分而治之(贯穿整个计算机上下的底层思想，而且来源于生活)，即是分片(partition),把不同分片交给不同节点处理即可，在未来保证可用性与并发性时，我们将分片冗余处理(一个分片交给多个节点处理)</p>\n<h2 id=\"CAP定理\"><a href=\"#CAP定理\" class=\"headerlink\" title=\"CAP定理\"></a>CAP定理</h2><p>定理指的是一个经过逻辑证明的猜想；2000年布鲁尔提出此猜想2002年MIT的大佬给出证明</p>\n<h3 id=\"描述\"><a href=\"#描述\" class=\"headerlink\" title=\"描述\"></a>描述</h3><p>CAP定理指出一个分布式系统不能同时满足一下三点</p>\n<ul>\n<li>一致性(Consistency)所有节点访问同一份最新的数据副本</li>\n<li>可用性(Availability)每次请求都能获取到非错的响应</li>\n<li>分区容错性(Partition tolerance)一个分布式系统中出现故障导致分裂成多个计算节点（区）；这些区应能使系统正常运行，一般来说P应该一定要满足的，弱不满足那么就违背了分布式系统初衷</li>\n</ul>\n<h3 id=\"策略\"><a href=\"#策略\" class=\"headerlink\" title=\"策略\"></a>策略</h3><p>CAP只能三选二，那么我们就有三种策略，我们看一下有哪些情况会用到</p>\n<p>CA：放弃P，会导致分布式节点无法进行扩展，传统的关系型数据库就是如此，一般P是必选项</p>\n<p>CP：牺牲用户体验，常见分布式数据库以及银行系统就是</p>\n<p>AP：牺牲一致性，淘宝、12306等就是</p>\n<h2 id=\"BASE理论\"><a href=\"#BASE理论\" class=\"headerlink\" title=\"BASE理论\"></a>BASE理论</h2><p>为平衡CAP提出，包含</p>\n<p>基本可用(Basically Available): 在出现故障时，允许部分可用性（基础可用）</p>\n<p>软状态(Soft State):允许出现中间状态，不同节点之间数据不一致</p>\n<p>最终一致性(Eventual Consistency):软状态不可持续，在有限期限后应能保证数据的最终一致</p>\n<h2 id=\"一致性算法\"><a href=\"#一致性算法\" class=\"headerlink\" title=\"一致性算法\"></a>一致性算法</h2><p>后续文章会详细介绍这些算法</p>\n<h3 id=\"强一致性算法\"><a href=\"#强一致性算法\" class=\"headerlink\" title=\"强一致性算法\"></a>强一致性算法</h3><p>Paxos：我最喜欢的图灵奖获得者Leslie Lamport于90年提出，几乎所有强一致性算法鼻祖，后续文章会详细介绍</p>\n<p>Raft(Paxos变种)：etcd使用</p>\n<p>ZAB(Paxos变种)：ZooKeeper使用</p>\n<h3 id=\"最终一致性算法\"><a href=\"#最终一致性算法\" class=\"headerlink\" title=\"最终一致性算法\"></a>最终一致性算法</h3><p>DNS系统：域名解析，超过TTL逐步向上询问</p>\n<p>Gossip算法：逆熵算法，Cassandra中使用</p>\n<h2 id=\"不要做那些假设\"><a href=\"#不要做那些假设\" class=\"headerlink\" title=\"不要做那些假设\"></a>不要做那些假设</h2><p>还记得我们前几天发的极客法则吗，不要做以下假设，在实际生产上会遇到不同问题需要实际处理</p>\n<ul>\n<li>网络可靠</li>\n<li>延迟为零</li>\n<li>带宽无限</li>\n<li>网络安全</li>\n<li>拓扑恒定</li>\n<li>单一管理员</li>\n<li>运输成本为零</li>\n<li>网络为同构的</li>\n</ul>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"分布式","path":"api/tags/分布式.json"}]},{"title":"go逃逸分析","slug":"language/golang/escapeanalysis","date":"2021-05-08T13:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/language/golang/escapeanalysis.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635134114header.jpg","content":"<p>[toc]</p>\n<h2 id=\"go逃逸分析\"><a href=\"#go逃逸分析\" class=\"headerlink\" title=\"go逃逸分析\"></a>go逃逸分析</h2><h3 id=\"什么是逃逸\"><a href=\"#什么是逃逸\" class=\"headerlink\" title=\"什么是逃逸\"></a>什么是逃逸</h3><p>内存从栈逃逸到堆中，会增大GC的压力</p>\n<h3 id=\"为什么要做逃逸分析\"><a href=\"#为什么要做逃逸分析\" class=\"headerlink\" title=\"为什么要做逃逸分析\"></a>为什么要做逃逸分析</h3><p>申请到栈内存性能好，不会引起GC，函数返回直接释放</p>\n<p>申请到堆内存会导致gc，引起性能问题</p>\n<p>如何分配：</p>\n<ol>\n<li>如果函数外部没有引用，则优先放到栈中；</li>\n<li>如果函数外部存在引用，则必定放到堆中；</li>\n</ol>\n<p>常见的三种逃逸</p>\n<h3 id=\"指针逃逸\"><a href=\"#指针逃逸\" class=\"headerlink\" title=\"指针逃逸\"></a>指针逃逸</h3><p>函数返回局部变量的指针导致指针逃逸</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">pointerEscapeFunc</span><span class=\"params\">()</span> *<span class=\"title\">int</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> v <span class=\"keyword\">int</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;v</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    pointerEscapeFunc()<span class=\"comment\">//v会被分配到堆上</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">host$</span><span class=\"bash\"> go build -gcflags <span class=\"string\">&#x27;-m -l&#x27;</span> tem.go <span class=\"comment\">#-m打印信息，-l忽略inline信息</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> command-line-arguments</span></span><br><span class=\"line\">./tem.go:3:6: moved to heap: v #可见v被分配到了堆上</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"栈空间不足\"><a href=\"#栈空间不足\" class=\"headerlink\" title=\"栈空间不足\"></a>栈空间不足</h3><p>go的goroutine初始栈大小为2KB，go可以增大栈大小，但不可超过系统栈限制(使用<code>ulimit -s</code>查看)，超过一定大小的变量将会逃逸到堆上，不同go版本大小限制不同</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">stackSpaceExhausted</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    v := <span class=\"built_in\">make</span>([]<span class=\"keyword\">int</span>,<span class=\"number\">0</span>,<span class=\"number\">10000</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    stackSpaceExhausted()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">host$</span><span class=\"bash\"> go build -gcflags <span class=\"string\">&#x27;-m -l&#x27;</span> tem.go</span> </span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> command-line-arguments</span></span><br><span class=\"line\">./tem.go:3:11: make([]int, 0, 10000) escapes to heap # 可见逃逸到了堆上，go1.15</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"闭包引用\"><a href=\"#闭包引用\" class=\"headerlink\" title=\"闭包引用\"></a>闭包引用</h3><p>函数类型也分两种，一种是函数字面量类型（未命名类型,func literal），另一种是函数命名类型。</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">outer</span><span class=\"params\">()</span> <span class=\"title\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a <span class=\"keyword\">int</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span>&#123;</span><br><span class=\"line\">        a++</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    inner := outer()</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(inner())</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">host$</span><span class=\"bash\"> go build -gcflags <span class=\"string\">&#x27;-m -l&#x27;</span> tem.go</span> </span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> command-line-arguments</span></span><br><span class=\"line\">./tem.go:3:6: moved to heap: a</span><br><span class=\"line\">./tem.go:4:9: func literal escapes to heap</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"动态类型\"><a href=\"#动态类型\" class=\"headerlink\" title=\"动态类型\"></a>动态类型</h3><p>对象大小不确定或作为不确定大小的参数时发生逃逸</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a <span class=\"keyword\">int</span></span><br><span class=\"line\">    fmt.Println(a)<span class=\"comment\">//fmt.Println的入参是...interface&#123;&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">host$</span><span class=\"bash\"> go build -gcflags <span class=\"string\">&#x27;-m -l&#x27;</span> tem.go</span> </span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> command-line-arguments</span></span><br><span class=\"line\">./tem.go:7:13: main ... argument does not escape</span><br><span class=\"line\">./tem.go:7:13: a escapes to heap</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"逃逸分析使用\"><a href=\"#逃逸分析使用\" class=\"headerlink\" title=\"逃逸分析使用\"></a>逃逸分析使用</h3><p>传值会拷贝对象，增加对象拷贝开销(听君一席话，胜似一席话)，只读切内存小的结构体使用可以提高性能</p>\n<p>传指针会导致内存逃逸到堆中，增加垃圾回收(GC)负担,对象需要频繁创建删除时，GC开销会特别大，影响性能，但在需要修改对象值、内存占用大的结构体中，传指针性能更好</p>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"golang","path":"api/tags/golang.json"}]},{"title":"Linux瓶颈分析","slug":"systemstructure/linux/linuxperformanceanalysis","date":"2021-05-05T15:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/linux/linuxperformanceanalysis.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635139608R-C.d63f9367c74e1dca73ffbcae473118fa?rik=c734OLrGXr8BPg&riu=http%3a%2f%2fwww.brendangregg.com%2fPerf%2flinux_observability_tools.png&ehk=nHWnEkal2z%2bT0vbSwBOdhejyU03bFpVvmJxFTX6A9tA%3d&risl=&pid=ImgRaw&r=0","content":"<h3 id=\"性能优化\"><a href=\"#性能优化\" class=\"headerlink\" title=\"性能优化\"></a>性能优化</h3><p>性能优化一项最重要的步骤就是寻找到系统的瓶颈</p>\n<h5 id=\"粗略分析\"><a href=\"#粗略分析\" class=\"headerlink\" title=\"粗略分析\"></a>粗略分析</h5><p>系统响应慢，一般的瓶颈在IO、CPU、内存还有应用。</p>\n<p>使用top查看</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">[root@172-20-59-60 apt_ui]# top</span><br><span class=\"line\">top - 15:59:31 up 6 days,  1:10,  3 users,  load average: 0.00, 0.01, 0.05</span><br><span class=\"line\">Tasks: 144 total,   1 running, 142 sleeping,   0 stopped,   1 zombie</span><br><span class=\"line\"><span class=\"meta\">%</span><span class=\"bash\">Cpu(s):  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span><br><span class=\"line\">KiB Mem :  8009636 total,  5126364 free,  2307032 used,   576240 buff/cache</span><br><span class=\"line\">KiB Swap:        0 total,        0 free,        0 used.  5396772 avail Mem</span><br><span class=\"line\"></span><br><span class=\"line\">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br><span class=\"line\"> 9307 root      20   0  620968  28320   6064 S   0.0  0.4   3:39.37 python3</span><br><span class=\"line\">  861 root      20   0  567404  16752   5992 S   0.0  0.2   0:57.56 tuned</span><br><span class=\"line\">  651 root      20   0   21684   1324    988 S   0.0  0.0   0:47.08 irqbalance</span><br><span class=\"line\">  662 avahi     20   0   55952   2392   1920 S   0.0  0.0   0:35.02 avahi-daemon</span><br><span class=\"line\">  809 root      20   0  113440  12796    308 S   0.0  0.2   0:24.29 dhclient</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li> 输入M，进程列表按内存使用大小降序排序，便于我们观察最大内存使用者使用有问题</li>\n<li> 输入P，进程列表按CPU使用大小降序排序，便于我们观察最耗CPU资源</li>\n<li> 100.0 id 空闲CPU时间百分比，如果这个值过低，表明系统CPU存在瓶颈</li>\n<li> 0.0 wa 等待I/O的CPU时间百分比，如果这个值过高，表明IO存在瓶颈</li>\n</ol>\n<h5 id=\"内存瓶颈\"><a href=\"#内存瓶颈\" class=\"headerlink\" title=\"内存瓶颈\"></a>内存瓶颈</h5><p>一般使用free工具</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">[root@172-20-59-60 apt_ui]# free</span><br><span class=\"line\">              total        used        free      shared  buff/cache   available</span><br><span class=\"line\">Mem:        8009636     2306408     5126984       25144      576244     5397396</span><br><span class=\"line\">Swap:             0           0           0</span><br></pre></td></tr></table></figure>\n\n<p>缺省时free的单位为KB</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>total</td>\n<td>总物理内存大小</td>\n</tr>\n<tr>\n<td>used</td>\n<td>已使用物理内存大小</td>\n</tr>\n<tr>\n<td>free</td>\n<td>未分配物理内存大小</td>\n</tr>\n<tr>\n<td>shared</td>\n<td>共享的物理内存大小</td>\n</tr>\n<tr>\n<td>buff/cache</td>\n<td>为了提高系统的读写速度（包含磁盘块的读写，文件的读写等），操作系统将部分内存作为缓存使用，该数值为缓存占用的物理内存大小</td>\n</tr>\n<tr>\n<td>available</td>\n<td>可用的物理内存大小</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>total</td>\n<td>Swap 分区的总大小</td>\n</tr>\n<tr>\n<td>used</td>\n<td>已使用的 Swap 分区大小</td>\n</tr>\n<tr>\n<td>free</td>\n<td>未使用的 Swap 分区大小</td>\n</tr>\n</tbody></table>\n<p>根据上表，在不考虑 Swap 分区的情况下，内存计算如下：<br>总内存大小：Mem.total = Mem.used + Mem.free + Mem.shared + Mem.buff/cache<br>理论上实际可用内存大小：Mem.actual = Mem.total - Mem.used - Mem.shared = Mem.free + Mem.buff/cache</p>\n<p>在考虑 Swap 分区的情况下，内存计算如下：<br>总内存大小：Mem.total = Mem.used + Mem.free + Mem.shared + Mem.buff/cache<br>理论上实际可用内存大小：Mem.actual = Mem.total - Mem.used - Mem.shared + Swap.free = Mem.free + Mem.buff/cache + Swap.free</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>PageCache.size</td>\n<td>可以回收的 PageCache 大小，计算公式见上图</td>\n</tr>\n<tr>\n<td>SlabCache.size</td>\n<td>可以回收的 SlabCache 大小 ，计算公式见上图</td>\n</tr>\n<tr>\n<td>WaterMark.low</td>\n<td>支持系统使用的最低水位线，计算公式见上图</td>\n</tr>\n</tbody></table>\n<p>Mem.available = Mem.free + PageCache.size + SlabCache.size - WaterMark.low</p>\n<p>进一步的监视内存使用情况，可使用vmstat工具，可实时动态监视操作系统的内存和虚拟内存的动态变化使用情况</p>\n<p>vmstat [delay] [count] </p>\n<ul>\n<li>  delay是两次输出之间的延迟时间；</li>\n<li>  count是指按照这个时间间隔统计的次数。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">[root@172-20-59-60 apt_ui]# vmstat 1 3</span><br><span class=\"line\">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class=\"line\"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class=\"line\"> 1  0      0 5126380   2068 574208    0    0     0    22    4    8  0  0 100  0  0</span><br><span class=\"line\"> 0  0      0 5126488   2068 574208    0    0     0     0  422   53  0  0 100  0  0</span><br><span class=\"line\"> 0  0      0 5126488   2068 574208    0    0     0     0  392   49  0  0 100  0  0</span><br></pre></td></tr></table></figure>\n\n<p>Procs（进程）:</p>\n<ul>\n<li>  r: 运行队列中进程数量</li>\n<li>  b: 等待IO的进程数量</li>\n</ul>\n<p>Memory（内存）:</p>\n<ul>\n<li>  swpd: 使用虚拟内存大小</li>\n<li>  free: 可用内存大小</li>\n<li>  buff: 用作缓冲的内存大小</li>\n<li>  cache: 用作缓存的内存大小</li>\n</ul>\n<p>Swap:</p>\n<ul>\n<li>  si: 每秒从交换区写到内存的大小</li>\n<li>  so: 每秒写入交换区的内存大小</li>\n</ul>\n<p>IO：（现在的Linux版本块的大小为1024bytes）</p>\n<ul>\n<li>  bi: 每秒读取的块数</li>\n<li>  bo: 每秒写入的块数</li>\n</ul>\n<p>system：</p>\n<ul>\n<li>  in: 每秒中断数，包括时钟中断</li>\n<li>  cs: 每秒上下文切换数</li>\n</ul>\n<p>CPU（以百分比表示）</p>\n<ul>\n<li>  us: 用户进程执行时间(user time)</li>\n<li>  sy: 系统进程执行时间(system time)</li>\n<li>  id: 空闲时间(包括IO等待时间)</li>\n<li>  wa: 等待IO时间</li>\n</ul>\n<p>内存测试工具我们使用Stream，基准测试，注意数据仅在相同软件相同版本有比较价值</p>\n<h5 id=\"IO瓶颈\"><a href=\"#IO瓶颈\" class=\"headerlink\" title=\"IO瓶颈\"></a>IO瓶颈</h5><p>如果IO存在性能瓶颈，top工具中的%wa会偏高</p>\n<p>可使用iostat 进一步分析</p>\n<p>iostat　[paras] [delay] [count] </p>\n<ul>\n<li>  -c显示CPU使用情况</li>\n<li>  -d 显示磁盘使用情况</li>\n<li>  -k 以 KB 为单位显示</li>\n<li>  -m 以 M 为单位显示</li>\n<li>  -N 显示磁盘阵列(LVM) 信息</li>\n<li>  -p[磁盘] 显示磁盘和分区的情况</li>\n<li>  -t 显示终端和CPU的信息</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@172-20-59-60 apt_ui]# iostat 3 3</span><br><span class=\"line\">Linux 3.10.0-693.el7.x86_64 (172-20-59-60)      12/31/2020      _x86_64_        (8 CPU)</span><br><span class=\"line\"></span><br><span class=\"line\">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class=\"line\">           0.03    0.00    0.02    0.02    0.00   99.93</span><br><span class=\"line\"></span><br><span class=\"line\">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn</span><br><span class=\"line\">vda               0.08         0.59         0.88     308042     462261</span><br><span class=\"line\">vdb               0.52         0.01       176.61       6256   92643328</span><br><span class=\"line\"></span><br><span class=\"line\">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class=\"line\">           0.04    0.00    0.00    0.00    0.00   99.96</span><br><span class=\"line\"></span><br><span class=\"line\">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn</span><br><span class=\"line\">vda               0.00         0.00         0.00          0          0</span><br><span class=\"line\">vdb               0.00         0.00         0.00          0          0</span><br><span class=\"line\"></span><br><span class=\"line\">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class=\"line\">           0.00    0.00    0.00    0.00    0.00  100.00</span><br><span class=\"line\"></span><br><span class=\"line\">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn</span><br><span class=\"line\">vda               0.00         0.00         0.00          0          0</span><br><span class=\"line\">vdb               0.00         0.00         0.00          0          0</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>  %user：CPU处在用户模式下的时间百分比。</li>\n<li>  %nice：CPU处在带NICE值的用户模式下的时间百分比。</li>\n<li>  %system：CPU处在系统模式下的时间百分比。</li>\n<li>  %iowait：CPU等待输入输出完成时间的百分比。</li>\n<li>  %steal：管理程序维护另一个虚拟处理器时，虚拟CPU的无意识等待时间百分比。</li>\n<li>  %idle：CPU空闲时间百分比。</li>\n<li>  rrqm/s: 每秒进行 merge 的读操作数目。即 rmerge/s</li>\n<li>  wrqm/s: 每秒进行 merge 的写操作数目。即 wmerge/s</li>\n<li>  r/s: 每秒完成的读 I/O 设备次数。即 rio/s</li>\n<li>  w/s: 每秒完成的写 I/O 设备次数。即 wio/s</li>\n<li>  rsec/s: 每秒读扇区数。即 rsect/s</li>\n<li>  wsec/s: 每秒写扇区数。即 wsect/s</li>\n<li>  rkB/s: 每秒读K字节数。是 rsect/s 的一半，因为每扇区大小为512字节。</li>\n<li>  wkB/s: 每秒写K字节数。是 wsect/s 的一半。</li>\n<li>  avgrq-sz: 平均每次设备I/O操作的数据大小 (扇区)。</li>\n<li>  avgqu-sz: 平均I/O队列长度。</li>\n<li>  await: 平均每次设备I/O操作的等待时间 (毫秒)。</li>\n<li>  svctm: 平均每次设备I/O操作的服务时间 (毫秒)。</li>\n<li>  %util: 一秒中有百分之多少的时间用于 I/O 操作，即被io消耗的cpu百分比</li>\n</ul>\n<p>磁盘测试工具我们一般使用iperf3，注意数据仅在相同软件相同版本有比较价值</p>\n<h3 id=\"性能测试工具\"><a href=\"#性能测试工具\" class=\"headerlink\" title=\"性能测试工具\"></a>性能测试工具</h3><p><img src= \"/img/loading.gif\" data-lazy-src=\"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635139608R-C.d63f9367c74e1dca73ffbcae473118fa?rik=c734OLrGXr8BPg&riu=http://www.brendangregg.com/Perf/linux_observability_tools.png&ehk=nHWnEkal2z+T0vbSwBOdhejyU03bFpVvmJxFTX6A9tA=&risl=&pid=ImgRaw&r=0\" alt=\"See the source image\"></p>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"linux","path":"api/tags/linux.json"}]},{"title":"硬盘IO性能估算(IOPS,吞吐量，延时)","slug":"systemstructure/storage/diskperformanceestimation","date":"2021-04-29T15:20:21.000Z","updated":"2024-06-30T10:35:56.308Z","comments":true,"path":"api/articles/systemstructure/storage/diskperformanceestimation.json","excerpt":null,"keywords":"云计算","cover":"https://cdn.jsdelivr.net/gh/Longtao-W/pics@main/20211025/1635171774R-C.b15aac80564d038ed359e47a066f891d?rik=VW2MMdB7BnKcXw&riu=http%3a%2f%2fsfwallpaper.com%2fimages%2fhdd-wallpaper-12.jpg&ehk=FjTRXCjxUHy0umSxoAK5tGP5r11SxPO17XwKdagy56I%3d&risl=&pid=ImgRaw&r=0","content":"<h1 id=\"硬盘IO性能估算-IOPS-吞吐量，延时\"><a href=\"#硬盘IO性能估算-IOPS-吞吐量，延时\" class=\"headerlink\" title=\"硬盘IO性能估算(IOPS,吞吐量，延时)\"></a>硬盘IO性能估算(IOPS,吞吐量，延时)</h1><h3 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p><strong>磁盘种类</strong></p>\n<p>硬盘有<strong>固态硬盘</strong>(SSD 盘，新式硬盘)、<strong>机械硬盘</strong>(HDD 传统硬盘)、<strong>混合硬盘</strong>(HHD 一块基于传统机械硬盘诞生出来的新硬盘)。SSD采用闪存颗粒来储存，HDD采用磁性碟片来储存，混合硬盘(HHD: Hybrid Hard Disk)是把磁性硬盘和闪存集成到一起的一种硬盘。</p>\n<p><strong>容量</strong></p>\n<p>硬盘的容量以兆字节(MB/MiB)、千兆字节(GB/GiB)或百万兆字节(TB/TiB)为单位，而常见的换算式为：1TB=1024GB,1GB=1024MB而1MB=1024KB。但硬盘厂商通常运用的是GB，也就是1G=1000MB，而Win系统，就依旧以“GB”字样来表示“GiB”单位(1024换算的)，因此我们在BIOS中或在格式化硬盘时看到的容量会比厂家的标称值要小。</p>\n<p><strong>转速</strong>（Rotational Speed 或Spindle speed）</p>\n<p>RPM是Revolutions Per minute的缩写，是转/每分钟。RPM值越大，内部传输率就越快，访问时间就越短，硬盘的整体性能也就越好。</p>\n<p><strong>寻道时间</strong> Tseek是指将读写磁头移动至正确的磁道上所需要的时间。寻道时间越短，I/O操作越快，目前磁盘的平均寻道时间一般在3－15ms。</p>\n<p><strong>旋转延迟</strong> Trotation是指盘片旋转将请求数据所在扇区移至读写磁头下方所需要的时间。旋转延迟取决于磁盘转速，通常使用磁盘旋转一周所需时间的1/2表示。</p>\n<p><strong>数据传输时间</strong> Ttransfer是指完成传输所请求的数据所需要的时间，它取决于数据传输率，其值等于数据大小除以数据传输率。目前IDE/ATA能达到133MB/s，SATA II可达到300MB/s的接口数据传输率，数据传输时间通常远小于前两部分消耗时间。简单计算时可忽略。</p>\n<p><strong>IOPS</strong></p>\n<p>每秒处理的IO次数</p>\n<p><strong>RPM</strong></p>\n<p>转速</p>\n<h3 id=\"性能估算\"><a href=\"#性能估算\" class=\"headerlink\" title=\"性能估算\"></a>性能估算</h3><p><strong>寻道时间估算</strong></p>\n<p>磁头移动到对应磁道上的耗时。</p>\n<p> SATA 7200RPM，平均寻道时间是9ms。</p>\n<p> SAS 10000RPM，平均寻道时间是6ms。 </p>\n<p>SAS 15000RPM，平均寻道时间是4ms。</p>\n<p>具体查看磁盘供应商提供数据。</p>\n<p><strong>旋转延时估算</strong></p>\n<p>平均为磁盘旋转一周所需时间的一半<br>$$<br>旋转延时=60*1000/RPM/2<br>$$<br><strong>传输时间</strong></p>\n<p> 平均数据大小除以接口传输率，耗时很小粗略计算可以忽略。 SATA，300<del>600MB/s。 SAS，3Gbit/s。 FC，2</del>4Gbit/s。 NVME，32Gbit/s。</p>\n<p><strong>吞吐量估算</strong><br>$$<br>I/O 吞吐量(一秒内)＝ IOPS* 平均 I/O SIZE<br>$$<br><strong>IOPS估算</strong><br>$$<br>IOPS = 1000 ms/ (寻道时间 + 旋转延迟)\\<br>物理磁盘总的IOPS = 物理磁盘的IOPS × 磁盘数目\\<br>可用的IOPS = （物理磁盘总的IOPS × 写百分比 ÷ RAID写惩罚） + （物理磁盘总的IOPS × 读百分比）<br>$$<br>其中</p>\n<p><strong>RAID-0：</strong>直接的条带，数据每次写入对应物理磁盘上的一次写入，写惩罚值是1。</p>\n<p><strong>RAID-1和10</strong>：RAID-1 和RAID-10的写惩罚很简单理解，因为数据的镜像存在的，所以一次写入会有两次，写惩罚值是2。</p>\n<p><strong>RAID-5：</strong>RAID-5由于要计算校验位的机制存在，需要读数据、读校验位、写数据、写校验位四个步骤，所以RAID-5的写惩罚值是4。</p>\n<p><strong>RAID-6：</strong>RAID-6由于有两个校验位的存在，与RAID-5相比，需要读取两次校验位和写入两次校验位，所以RAID-6的写惩罚值是6。</p>\n<p><strong>iops估算raid盘数</strong></p>\n<ol>\n<li><p>如果单盘不能满足性能需求，需要通过Raid实现，计算所需硬盘数公式如下。 Raid1、10，Drive IOPS = Read IOPS + 2<em>Write IOPS Raid3、5，Drive IOPS = Read IOPS + 4</em>Write IOPS Raid6，Drive IOPS = Read IOPS + 6*Write IOPS；</p>\n</li>\n<li><p>设需要IOPS 5000，读写比例2:1，则RAID10后IOPS需求为。 RAID10，(2/3) * 5000 + 2 * (1/3) * 5000 = 6666 IOPS；</p>\n</li>\n<li><p>已知SAS 15000RPM机械硬盘IOPS165。 5000IOPS所需硬盘个数, 6666 / 165 = 40。</p>\n</li>\n</ol>\n<p><strong>SSD硬盘IO估算</strong></p>\n<p>固态硬盘没有寻道时间和旋转时间。IO耗时是通过地址查找数据耗时，根据芯片颗粒SLC、MLC，中控芯片、队列深度32~64、接口SATA、PCIE的不同，一般负载非太高时是相对固定值（控制在60%利用率）。 IOPS = 1000 / IO耗时。因为SSD比较固定，比如Intel 320 SSD对8K avgrq-sz耗时0.1ms，1000/0.1ms=10000 IOPS。具体参考后续文章。</p>\n<p><strong>常见存储设备参考性能</strong></p>\n<p>5400 RPM SATA，60 IOPS </p>\n<p>7200 RPM SATA，70 IOPS </p>\n<p>10000 RPM SAS，110 IOPS </p>\n<p>15000 RPM SAS，150 IOPS，Sequential RW 180MB/s、Radom RW 15MB/s。 </p>\n<p>10000 RPM FC，125 IOPS </p>\n<p>15000 RPM FC，150 IOPS</p>\n<p> SSD SATA，3000~40000 IOPS，R 400MB/s、W 250MB/s。 </p>\n<p>SSD PCIE，20000~40000 IOPS，R 500MB/s、W 300MB/s。 </p>\n<p>内存，1000000+ IOPS，30~60 GB/s。</p>\n<h3 id=\"性能调优\"><a href=\"#性能调优\" class=\"headerlink\" title=\"性能调优\"></a>性能调优</h3><p>对于随机负载，当遇到余下情况时，我们那通常认为存在 I/O 性能问题：</p>\n<ol>\n<li><p>平均读时间大于 15ms</p>\n</li>\n<li><p>在具有写 cache 的条件下，平均写时间大于 2.5ms</p>\n</li>\n</ol>\n<p>对于顺序负载，当遇到余下情况时，我们那通常认为存在 I/O 性能问题：</p>\n<ol start=\"3\">\n<li><p>在一个磁盘上有两个连续的 I/O 流</p>\n</li>\n<li><p>吞吐量不足（即远远小于磁盘 I/O 带宽）</p>\n</li>\n</ol>\n<p>对于一块磁盘来讲，随着 IOPS 数量的增加，I/O service 也会增加，并且会有一个饱和点，即 IOPS 达到某个点以后，IOPS 再增加将会引起 I/O service time 的显著增加。</p>\n<h3 id=\"命令\"><a href=\"#命令\" class=\"headerlink\" title=\"命令\"></a>命令</h3><p><strong>判断是ssd还是hdd</strong></p>\n<ol>\n<li>```shell<br>cat /sys/block/*/queue/rotational<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">2. &#96;&#96;&#96;shell</span><br><span class=\"line\">   lsblk -d -o name,rota</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>0为ssd，1为hdd</p>\n<p><strong>查看磁盘转速</strong></p>\n<ol>\n<li><pre><code>sginfo -g /dev/*\n</code></pre>\n</li>\n</ol>\n","raw":null,"categories":[{"name":"编程技术","path":"api/categories/编程技术.json"}],"tags":[{"name":"编程原理","path":"api/tags/编程原理.json"},{"name":"网络","path":"api/tags/网络.json"}]}]}